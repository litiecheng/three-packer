/* Generated by Nim Compiler v0.10.2 */
/*   (c) 2014 Andreas Rumpf */
/* The generated code is subject to the original license. */
/* Compiled for: Windows, i386, gcc */
/* Command for C compiler:
   gcc.exe -c  -w  -IC:\Nim\lib -o c:\dropbox\2015\nim\packer\example\nimcache\pack.o c:\dropbox\2015\nim\packer\example\nimcache\pack.c */
#define NIM_INTBITS 32
#include "nimbase.h"

#include <string.h>
typedef struct assetHEX3Aobjecttype149027 assetHEX3Aobjecttype149027;
typedef struct assetgroupHEX3Aobjecttype149022 assetgroupHEX3Aobjecttype149022;
typedef struct TY149048 TY149048;
typedef struct rect149007 rect149007;
typedef struct TY149020 TY149020;
typedef struct dataentry149005 dataentry149005;
typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct tcell44933 tcell44933;
typedef struct tcellseq44949 tcellseq44949;
typedef struct tgcheap47016 tgcheap47016;
typedef struct tcellset44945 tcellset44945;
typedef struct tpagedesc44941 tpagedesc44941;
typedef struct tmemregion27210 tmemregion27210;
typedef struct tsmallchunk26440 tsmallchunk26440;
typedef struct tllchunk27204 tllchunk27204;
typedef struct tbigchunk26442 tbigchunk26442;
typedef struct tintset26417 tintset26417;
typedef struct ttrunk26413 ttrunk26413;
typedef struct tavlnode27208 tavlnode27208;
typedef struct tgcstat47014 tgcstat47014;
typedef struct cropresultHEX3Aobjecttype149033 cropresultHEX3Aobjecttype149033;
typedef struct TY149666 TY149666;
typedef struct assetrectview149653 assetrectview149653;
typedef struct TY149663 TY149663;
typedef struct TY150505 TY150505;
typedef struct TY150843 TY150843;
typedef struct TY153691 TY153691;
typedef struct slice86066 slice86066;
typedef struct packmanifestHEX3Aobjecttype152056 packmanifestHEX3Aobjecttype152056;
typedef struct TY154808 TY154808;
typedef struct Exception Exception;
typedef struct TNimObject TNimObject;
typedef struct tbasechunk26438 tbasechunk26438;
typedef struct tfreecell26430 tfreecell26430;
struct  TGenericSeq  {
NI len;
NI reserved;
};
struct  NimStringDesc  {
  TGenericSeq Sup;
NIM_CHAR data[SEQ_DECL_SIZE];
};
struct  dataentry149005  {
NimStringDesc* K;
NI V;
};
struct  rect149007  {
NI X;
NI Y;
NI W;
NI H;
TY149020* D;
};
struct  assetHEX3Aobjecttype149027  {
assetHEX3Aobjecttype149027* P;
NI I;
assetgroupHEX3Aobjecttype149022* G;
TY149048* R;
};
typedef N_NIMCALL_PTR(void, TY3089) (void* p, NI op);
typedef N_NIMCALL_PTR(void*, TY3094) (void* p);
struct  TNimType  {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
TY3089 marker;
TY3094 deepcopy;
};
struct  TNimNode  {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
struct  assetgroupHEX3Aobjecttype149022  {
rect149007 Rect;
NimStringDesc* Name;
NI Counter;
NI Id;
};
struct  tcell44933  {
NI Refcount;
TNimType* Typ;
};
struct  tcellseq44949  {
NI Len;
NI Cap;
tcell44933** D;
};
struct  tcellset44945  {
NI Counter;
NI Max;
tpagedesc44941* Head;
tpagedesc44941** Data;
};
typedef tsmallchunk26440* TY27222[512];
typedef ttrunk26413* ttrunkbuckets26415[256];
struct  tintset26417  {
ttrunkbuckets26415 Data;
};
struct  tmemregion27210  {
NI Minlargeobj;
NI Maxlargeobj;
TY27222 Freesmallchunks;
tllchunk27204* Llmem;
NI Currmem;
NI Maxmem;
NI Freemem;
NI Lastsize;
tbigchunk26442* Freechunkslist;
tintset26417 Chunkstarts;
tavlnode27208* Root;
tavlnode27208* Deleted;
tavlnode27208* Last;
tavlnode27208* Freeavlnodes;
};
struct  tgcstat47014  {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
NI64 Maxpause;
};
struct  tgcheap47016  {
void* Stackbottom;
NI Cyclethreshold;
tcellseq44949 Zct;
tcellseq44949 Decstack;
tcellset44945 Cycleroots;
tcellseq44949 Tempstack;
NI Recgclock;
tmemregion27210 Region;
tgcstat47014 Stat;
};
struct  cropresultHEX3Aobjecttype149033  {
NI Left;
NI Right;
NI Top;
NI Bottom;
};
struct  assetrectview149653  {
assetHEX3Aobjecttype149027* A;
NI I;
};
typedef struct {
N_NIMCALL_PTR(NIM_BOOL, ClPrc) (rect149007* r, void* ClEnv);
void* ClEnv;
} assetrectfilter149651;
typedef N_CLOSURE_PTR(NIM_BOOL, TMP396) (rect149007* r);
typedef rect149007 TY150226[1];
typedef NI TY150844[4];
typedef NI TY151158[2];
typedef struct {
N_NIMCALL_PTR(NI, ClPrc) (assetHEX3Aobjecttype149027* x_152193, assetHEX3Aobjecttype149027* y_152195, void* ClEnv);
void* ClEnv;
} TY152199;
struct  slice86066  {
NI A;
NI B;
};
typedef struct {
N_NIMCALL_PTR(NI, ClPrc) (NI x_154298, NI y_154300, void* ClEnv);
void* ClEnv;
} TY154304;
struct  packmanifestHEX3Aobjecttype152056  {
TY149663* Pack;
TY149663* Remainder;
};
typedef N_CLOSURE_PTR(NI, TMP480) (assetHEX3Aobjecttype149027* x_152176, assetHEX3Aobjecttype149027* y_152178, void* ClEnv);
struct  TNimObject  {
TNimType* m_type;
};
struct  Exception  {
  TNimObject Sup;
Exception* parent;
NCSTRING name;
NimStringDesc* message;
NimStringDesc* trace;
};
typedef NI TY26420[16];
struct  tpagedesc44941  {
tpagedesc44941* Next;
NI Key;
TY26420 Bits;
};
struct  tbasechunk26438  {
NI Prevsize;
NI Size;
NIM_BOOL Used;
};
struct  tsmallchunk26440  {
  tbasechunk26438 Sup;
tsmallchunk26440* Next;
tsmallchunk26440* Prev;
tfreecell26430* Freelist;
NI Free;
NI Acc;
NF Data;
};
struct  tllchunk27204  {
NI Size;
NI Acc;
tllchunk27204* Next;
};
struct  tbigchunk26442  {
  tbasechunk26438 Sup;
tbigchunk26442* Next;
tbigchunk26442* Prev;
NI Align;
NF Data;
};
struct  ttrunk26413  {
ttrunk26413* Next;
NI Key;
TY26420 Bits;
};
typedef tavlnode27208* TY27214[2];
struct  tavlnode27208  {
TY27214 Link;
NI Key;
NI Upperbound;
NI Level;
};
struct  tfreecell26430  {
tfreecell26430* Next;
NI Zerofield;
};
struct TY149020 {
  TGenericSeq Sup;
  dataentry149005 data[SEQ_DECL_SIZE];
};
struct TY149048 {
  TGenericSeq Sup;
  rect149007 data[SEQ_DECL_SIZE];
};
struct TY149666 {
  TGenericSeq Sup;
  assetrectview149653 data[SEQ_DECL_SIZE];
};
struct TY149663 {
  TGenericSeq Sup;
  assetHEX3Aobjecttype149027* data[SEQ_DECL_SIZE];
};
struct TY150505 {
  TGenericSeq Sup;
  NI data[SEQ_DECL_SIZE];
};
struct TY150843 {
  TGenericSeq Sup;
  TY150844 data[SEQ_DECL_SIZE];
};
struct TY153691 {
  TGenericSeq Sup;
  NI8 data[SEQ_DECL_SIZE];
};
struct TY154808 {
  TGenericSeq Sup;
  TY149663* data[SEQ_DECL_SIZE];
};
N_NIMCALL(assetHEX3Aobjecttype149027*, newasset_149044)(NI i, assetgroupHEX3Aobjecttype149022* g, TY149048* r);
N_NIMCALL(void, nimGCvisit)(void* d, NI op);
N_NIMCALL(void, TMP373)(void* p, NI op);
N_NIMCALL(void, TMP374)(void* p, NI op);
N_NIMCALL(void, TMP375)(void* p, NI op);
N_NIMCALL(void, TMP376)(void* p, NI op);
N_NIMCALL(void*, newObj)(TNimType* typ, NI size);
static N_INLINE(void, asgnRefNoCycle)(void** dest, void* src);
static N_INLINE(tcell44933*, usrtocell_48646)(void* usr);
static N_INLINE(void, nimFrame)(TFrame* s);
N_NOINLINE(void, stackoverflow_18801)(void);
static N_INLINE(void, popFrame)(void);
static N_INLINE(void, rtladdzct_50204)(tcell44933* c);
N_NOINLINE(void, addzct_48617)(tcellseq44949* s, tcell44933* c);
N_NIMCALL(void, genericSeqAssign)(void* dest, void* src_81404, TNimType* mt);
N_NIMCALL(assetHEX3Aobjecttype149027*, copy_149074)(assetHEX3Aobjecttype149027* a);
static N_INLINE(void, asgnRef)(void** dest, void* src);
static N_INLINE(void, incref_51025)(tcell44933* c);
static N_INLINE(NIM_BOOL, canbecycleroot_48667)(tcell44933* c);
static N_INLINE(void, rtladdcycleroot_49429)(tcell44933* c);
N_NOINLINE(void, incl_45671)(tcellset44945* s, tcell44933* cell);
static N_INLINE(void, decref_50604)(tcell44933* c);
N_NIMCALL(NimStringDesc*, HEX24_149100)(dataentry149005 d);
static N_INLINE(void, appendString)(NimStringDesc* dest, NimStringDesc* src);
N_NIMCALL(NimStringDesc*, nimIntToStr)(NI x);
N_NIMCALL(NimStringDesc*, rawNewString)(NI space);
N_NIMCALL(NIM_BOOL, HEX3DHEX3D_149117)(TY149020* x_149123, TY149020* y_149128);
static N_INLINE(void*, seqtoptr_149133)(TY149020* x_149139);
N_NIMCALL(NIM_BOOL, HEX3DHEX3D_149224)(dataentry149005 x_149228, dataentry149005 y_149230);
N_NIMCALL(NimStringDesc*, HEX24_149264)(TY149020* x_149270);
N_NIMCALL(NimStringDesc*, collectiontostring_149274)(TY149020* x_149278, NimStringDesc* b_149280, NimStringDesc* e_149282);
N_NIMCALL(NimStringDesc*, HEX24_149110)(rect149007* r);
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* src);
N_NIMCALL(NimStringDesc*, HEX24_149450)(cropresultHEX3Aobjecttype149033* c);
N_NIMCALL(NimStringDesc*, HEX24_149460)(assetgroupHEX3Aobjecttype149022* g);
N_NIMCALL(NimStringDesc*, HEX24_149476)(TY149048* x_149482);
N_NIMCALL(NimStringDesc*, collectiontostring_149486)(TY149048* x_149490, NimStringDesc* b_149492, NimStringDesc* e_149494);
N_NIMCALL(NimStringDesc*, HEX24_149470)(assetHEX3Aobjecttype149027* p);
N_NIMCALL(TY149666*, viewassetrects_149661)(TY149663* ar, assetrectfilter149651 fn);
N_NIMCALL(void, TMP395)(void* p, NI op);
N_NIMCALL(void*, newSeq)(TNimType* typ, NI len);
N_NOINLINE(void, raiseIndexError)(void);
N_NIMCALL(TGenericSeq*, incrSeq)(TGenericSeq* seq, NI elemsize);
static N_INLINE(NI, addInt)(NI a, NI b);
N_NOINLINE(void, raiseOverflow)(void);
N_NIMCALL(void, failedassertimpl_86825)(NimStringDesc* msg);
N_NIMCALL(void, newrect_149915)(NI x, NI y, NI w, NI h, TY149020* d, rect149007* Result);
N_NIMCALL(void, add_149950)(TY149020** s, NimStringDesc* k, NI v);
N_NIMCALL(NimStringDesc*, copyStringRC1)(NimStringDesc* src);
static N_INLINE(void, nimGCunrefNoCycle)(void* p);
N_NIMCALL(void, HEX5BHEX5DHEX3D_149983)(TY149020** s, NimStringDesc* k, NI v);
static N_INLINE(NI, subInt)(NI a, NI b);
static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* a, NimStringDesc* b);
N_NIMCALL(TGenericSeq*, setLengthSeq)(TGenericSeq* seq, NI elemsize, NI newlen);
N_NIMCALL(TY149020*, HEX5BHEX5D_150080)(TY149020* s, NimStringDesc* k);
N_NIMCALL(void, newdata_150161)(NimStringDesc* k, NI v, dataentry149005* Result);
N_NIMCALL(void, unsureAsgnRef)(void** dest, void* src);
N_NIMCALL(void, add_150232)(TY149048** x_150240, rect149007* y_150246, NI y_150246Len0);
N_NIMCALL(TY149048*, rhoriztiling_150172)(assetgroupHEX3Aobjecttype149022* g, NI tw, NI th, NI iw, NI ih, NI sx, NI sy);
N_NIMCALL(void, genericAssign)(void* dest, void* src, TNimType* mt);
N_NIMCALL(TY149048*, rverttiling_150369)(assetgroupHEX3Aobjecttype149022* g, NI tw, NI th, NI iw, NI ih, NI sx, NI sy);
N_NIMCALL(TY149048*, rwidths_150502)(assetgroupHEX3Aobjecttype149022* g, TY150505* widths, NI th, NIM_BOOL posiw, NI ih, NI sx, NI sy);
N_NIMCALL(TY149048*, rheights_150671)(assetgroupHEX3Aobjecttype149022* g, TY150505* heights, NI tw, NIM_BOOL posih, NI iw, NI sx, NI sy);
N_NIMCALL(TY149663*, assetsofrects_150840)(assetgroupHEX3Aobjecttype149022* g, TY150843* rects);
N_NIMCALL(void, TMP408)(void* p, NI op);
N_NIMCALL(TY149663*, assetsofrects_150947)(assetgroupHEX3Aobjecttype149022* g, TY150505* rects);
N_NIMCALL(NI, mulInt)(NI a, NI b);
N_NIMCALL(TY149663*, assetsofrects_151051)(assetgroupHEX3Aobjecttype149022* g, TY149048* rects);
N_NIMCALL(void, minsizeofassets_151152)(TY149663* assets, NI tw, NI th, TY151158* Result);
N_NIMCALL(NI, totalareaofassets_151207)(TY149663* assets);
N_NIMCALL(TY149663*, newseq_151270)(NI len_151274);
static N_INLINE(assetHEX3Aobjecttype149027*, pop_151323)(TY149663** s_151331);
N_NIMCALL(TY149663*, discardassets_151259)(TY149663** assets, NI minarea);
N_NIMCALL(void, reduce_151443)(TY149048** r, NI lt, NI tp, NI rt, NI bm);
N_NIMCALL(void, reduce_151580)(TY149048** r, cropresultHEX3Aobjecttype149033* cropr);
N_NIMCALL(TY149048*, fitsintilesize_151592)(TY149048* rects, NI w0, NI h0);
N_NIMCALL(TY149663*, fitsintilesize_151674)(TY149663* assets, NI w0, NI h0);
N_NIMCALL(TY149663*, packtorectstl_151756)(assetgroupHEX3Aobjecttype149022* g, TY149663* assets, TY149048* rects);
N_NIMCALL(TY149663*, packtorectsc_151836)(assetgroupHEX3Aobjecttype149022* g, TY149663* assets, TY149048* rects);
static N_INLINE(NF, HEX2F_86004)(NI x, NI y);
N_NIMCALL(TY149663*, packtorectsgrowc_151920)(assetgroupHEX3Aobjecttype149022* g, TY149663* assets, TY149048* rects);
N_NIMCALL(NI, cmp_152150)(NI x_152154, NI y_152156);
N_NIMCALL(void, sort_152180)(assetHEX3Aobjecttype149027** a_152188, NI a_152188Len0, TY152199 cmp_152198, NU8 order_152201);
N_NIMCALL(void, merge_152241)(assetHEX3Aobjecttype149027** a_152249, NI a_152249Len0, assetHEX3Aobjecttype149027** b_152257, NI b_152257Len0, NI lo_152261, NI m_152263, NI hi_152265, TY152199 cmp_152273, NU8 order_152276);
N_NIMCALL(TY153691*, newseq_153686)(NI len_153690);
N_NIMCALL(TY150505*, newseq_153783)(NI len_153787);
N_NIMCALL(void, TMP456)(void* p, NI op);
N_NIMCALL(TY149663*, HEX5BHEX5D_154069)(TY149663* s_154075, slice86066 x_154080);
N_NIMCALL(NI, lowerbound_154257)(NI* a_154263, NI a_154263Len0, NI key_154266);
N_NIMCALL(NI, lowerbound_154286)(NI* a_154292, NI a_154292Len0, NI key_154295, TY154304 cmp_154303);
N_NIMCALL(void, insert_154383)(TY150505** x_154391, NI item_154395, NI i_154397);
N_NIMCALL(TY150505*, HEX5BHEX5D_154501)(TY150505* s_154507, slice86066 x_154512);
N_NIMCALL(packmanifestHEX3Aobjecttype152056*, packscanline_152065)(assetgroupHEX3Aobjecttype149022* g, TY149663* assets, NI skipstride, NIM_BOOL speedy, NIM_BOOL sort);
N_NIMCALL(void, TMP477)(void* p, NI op);
N_NIMCALL(NI, whsorter_152144)(assetHEX3Aobjecttype149027* a, assetHEX3Aobjecttype149027* b);
static N_INLINE(NI, modInt)(NI a, NI b);
N_NOINLINE(void, raiseDivByZero)(void);
static N_INLINE(slice86066, HEX2EHEX2E_92098)(NI a_92102, NI b_92104);
N_NIMCALL(void*, newSeqRC1)(TNimType* typ, NI len);
N_NIMCALL(TY154808*, HEX26_154798)(TY154808* x_154804, TY149663* y_154807);
N_NIMCALL(NIM_BOOL, HEX3DHEX3D_154903)(TY149663* x_154909, TY149663* y_154914);
static N_INLINE(void*, seqtoptr_154919)(TY149663* x_154925);
N_NIMCALL(Exception*, new_155056)(void);
N_NIMCALL(TY154808*, multipackscanline_154763)(assetgroupHEX3Aobjecttype149022* g, TY149663* assets, NI skipstride, NIM_BOOL speedy, NIM_BOOL sort);
N_NIMCALL(void, raiseException)(Exception* e, NCSTRING ename);
N_NIMCALL(void, TMP625)(void* p, NI op);
STRING_LITERAL(TMP377, "=", 1);
STRING_LITERAL(TMP381, "x:", 2);
STRING_LITERAL(TMP382, " y:", 3);
STRING_LITERAL(TMP383, " w:", 3);
STRING_LITERAL(TMP384, " h:", 3);
STRING_LITERAL(TMP385, " d:", 3);
STRING_LITERAL(TMP386, "", 0);
STRING_LITERAL(TMP387, "l:", 2);
STRING_LITERAL(TMP388, " t:", 3);
STRING_LITERAL(TMP389, " r:", 3);
STRING_LITERAL(TMP390, " b:", 3);
STRING_LITERAL(TMP391, "id:", 3);
STRING_LITERAL(TMP392, " group:", 7);
STRING_LITERAL(TMP393, " rect:", 6);
STRING_LITERAL(TMP397, "(system.len|system.len|system.len|system.len|system.len|system."
"len|...)(a) (system.==|system.==|system.==|system.==|system.==|s"
"ystem.==|system.==|system.==|system.==|system.==|system.==|syste"
"m.==|system.==|system.==|system.==|system.==|system.==|system.=="
"|system.==|system.==|...)\015\012    L seq modified while iterating ov"
"er it", 324);
STRING_LITERAL(TMP526, "Asset too large: ", 17);
TNimType NTI149027; /* Asset:ObjectType */
extern TNimType NTI108; /* int */
TNimType NTI149022; /* AssetGroup:ObjectType */
TNimType NTI149007; /* Rect */
TNimType NTI149005; /* DataEntry */
extern TNimType NTI149; /* string */
TNimType NTI149020; /* seq[DataEntry] */
TNimType NTI149009; /* AssetGroup */
TNimType NTI149048; /* seq[Rect] */
TNimType NTI149011; /* Asset */
extern TFrame* frameptr_16242;
extern tgcheap47016 gch_47044;
TNimType NTI149653; /* AssetRectView */
TNimType NTI149666; /* seq[AssetRectView] */
TNimType NTI149663; /* seq[Asset] */
TNimType NTI150505; /* seq[int] */
TNimType NTI152056; /* PackManifest:ObjectType */
TNimType NTI152054; /* PackManifest */
extern TNimType NTI153691; /* seq[int8] */
extern TNimType NTI154808; /* seq[seq[Asset]] */
TNimType NTI149033; /* CropResult:ObjectType */
TNimType NTI149013; /* CropResult */
N_NIMCALL(void, TMP373)(void* p, NI op) {
	TY149020* a;
	NI LOC1;
	a = (TY149020*)p;
	LOC1 = 0;
	for (LOC1 = 0; LOC1 < a->Sup.len; LOC1++) {
	nimGCvisit((void*)a->data[LOC1].K, op);
	}
}
N_NIMCALL(void, TMP374)(void* p, NI op) {
	assetgroupHEX3Aobjecttype149022* a;
	a = (assetgroupHEX3Aobjecttype149022*)p;
	nimGCvisit((void*)(*a).Rect.D, op);
	nimGCvisit((void*)(*a).Name, op);
}
N_NIMCALL(void, TMP375)(void* p, NI op) {
	TY149048* a;
	NI LOC1;
	a = (TY149048*)p;
	LOC1 = 0;
	for (LOC1 = 0; LOC1 < a->Sup.len; LOC1++) {
	nimGCvisit((void*)a->data[LOC1].D, op);
	}
}
N_NIMCALL(void, TMP376)(void* p, NI op) {
	assetHEX3Aobjecttype149027* a;
	a = (assetHEX3Aobjecttype149027*)p;
	nimGCvisit((void*)(*a).P, op);
	nimGCvisit((void*)(*a).G, op);
	nimGCvisit((void*)(*a).R, op);
}

static N_INLINE(void, nimFrame)(TFrame* s) {
	NI LOC1;
	LOC1 = 0;
	{
		if (!(frameptr_16242 == NIM_NIL)) goto LA4;
		LOC1 = 0;
	}
	goto LA2;
	LA4: ;
	{
		LOC1 = ((NI) ((NI16)((*frameptr_16242).calldepth + ((NI16) 1))));
	}
	LA2: ;
	(*s).calldepth = ((NI16) (LOC1));
	(*s).prev = frameptr_16242;
	frameptr_16242 = s;
	{
		if (!((*s).calldepth == ((NI16) 2000))) goto LA9;
		stackoverflow_18801();
	}
	LA9: ;
}

static N_INLINE(void, popFrame)(void) {
	frameptr_16242 = (*frameptr_16242).prev;
}

static N_INLINE(tcell44933*, usrtocell_48646)(void* usr) {
	tcell44933* result;
	nimfr("usrToCell", "gc.nim")
	result = 0;
	nimln(118, "gc.nim");
	nimln(118, "gc.nim");
	nimln(118, "gc.nim");
	result = ((tcell44933*) ((NI)((NU32)(((NI) (usr))) - (NU32)(((NI)sizeof(tcell44933))))));
	popFrame();
	return result;
}

static N_INLINE(void, rtladdzct_50204)(tcell44933* c) {
	nimfr("rtlAddZCT", "gc.nim")
	nimln(199, "gc.nim");
	addzct_48617((&gch_47044.Zct), c);
	popFrame();
}

static N_INLINE(void, asgnRefNoCycle)(void** dest, void* src) {
	nimfr("asgnRefNoCycle", "gc.nim")
	nimln(251, "gc.nim");
	{
		tcell44933* c;
		nimln(251, "gc.nim");
		nimln(251, "gc.nim");
		if (!!((src == NIM_NIL))) goto LA3;
		nimln(252, "gc.nim");
		c = usrtocell_48646(src);
		nimln(169, "gc.nim");
		(*c).Refcount += 8;
	}
	LA3: ;
	nimln(254, "gc.nim");
	{
		tcell44933* c;
		nimln(254, "gc.nim");
		nimln(254, "gc.nim");
		if (!!(((*dest) == NIM_NIL))) goto LA7;
		nimln(255, "gc.nim");
		c = usrtocell_48646((*dest));
		nimln(256, "gc.nim");
		{
			nimln(167, "gc.nim");
			(*c).Refcount -= 8;
			nimln(168, "gc.nim");
			if (!((NU32)((*c).Refcount) < (NU32)(8))) goto LA11;
			nimln(257, "gc.nim");
			rtladdzct_50204(c);
		}
		LA11: ;
	}
	LA7: ;
	nimln(258, "gc.nim");
	(*dest) = src;
	popFrame();
}

N_NIMCALL(assetHEX3Aobjecttype149027*, newasset_149044)(NI i, assetgroupHEX3Aobjecttype149022* g, TY149048* r) {
	assetHEX3Aobjecttype149027* result;
	assetHEX3Aobjecttype149027* rs;
	nimfr("newAsset", "pack.nim")
	result = 0;
	nimln(32, "pack.nim");
	result = (assetHEX3Aobjecttype149027*) newObj((&NTI149011), sizeof(assetHEX3Aobjecttype149027));
	nimln(32, "pack.nim");
	rs = result;
	nimln(33, "pack.nim");
	(*rs).I = i;
	nimln(33, "pack.nim");
	asgnRefNoCycle((void**) (&(*rs).G), g);
	nimln(33, "pack.nim");
	genericSeqAssign((&(*rs).R), r, (&NTI149048));
	popFrame();
	return result;
}

static N_INLINE(NIM_BOOL, canbecycleroot_48667)(tcell44933* c) {
	NIM_BOOL result;
	nimfr("canbeCycleRoot", "gc.nim")
	result = 0;
	nimln(121, "gc.nim");
	nimln(121, "gc.nim");
	nimln(121, "gc.nim");
	result = !((((*(*c).Typ).flags &(1<<((((NU8) 1))&7)))!=0));
	popFrame();
	return result;
}

static N_INLINE(void, rtladdcycleroot_49429)(tcell44933* c) {
	nimfr("rtlAddCycleRoot", "gc.nim")
	nimln(189, "gc.nim");
	{
		nimln(189, "gc.nim");
		nimln(189, "gc.nim");
		nimln(189, "gc.nim");
		if (!!((((NI) ((NI)((*c).Refcount & 3))) == 3))) goto LA3;
		nimln(139, "gc.nim");
		nimln(139, "gc.nim");
		nimln(139, "gc.nim");
		(*c).Refcount = (NI)((NI)((*c).Refcount & -4) | 3);
		nimln(191, "gc.nim");
		incl_45671((&gch_47044.Cycleroots), c);
	}
	LA3: ;
	popFrame();
}

static N_INLINE(void, incref_51025)(tcell44933* c) {
	nimfr("incRef", "gc.nim")
	nimln(216, "gc.nim");
	nimln(216, "gc.nim");
	(*c).Refcount = (NI)((NU32)((*c).Refcount) + (NU32)(8));
	nimln(219, "gc.nim");
	{
		NIM_BOOL LOC3;
		nimln(219, "gc.nim");
		LOC3 = 0;
		LOC3 = canbecycleroot_48667(c);
		if (!LOC3) goto LA4;
		nimln(220, "gc.nim");
		rtladdcycleroot_49429(c);
	}
	LA4: ;
	popFrame();
}

static N_INLINE(void, decref_50604)(tcell44933* c) {
	nimfr("decRef", "gc.nim")
	nimln(206, "gc.nim");
	{
		nimln(167, "gc.nim");
		(*c).Refcount -= 8;
		nimln(168, "gc.nim");
		if (!((NU32)((*c).Refcount) < (NU32)(8))) goto LA3;
		nimln(207, "gc.nim");
		rtladdzct_50204(c);
	}
	goto LA1;
	LA3: ;
	{
		NIM_BOOL LOC6;
		nimln(208, "gc.nim");
		LOC6 = 0;
		LOC6 = canbecycleroot_48667(c);
		if (!LOC6) goto LA7;
		nimln(211, "gc.nim");
		rtladdcycleroot_49429(c);
	}
	goto LA1;
	LA7: ;
	LA1: ;
	popFrame();
}

static N_INLINE(void, asgnRef)(void** dest, void* src) {
	nimfr("asgnRef", "gc.nim")
	nimln(244, "gc.nim");
	{
		tcell44933* LOC5;
		nimln(244, "gc.nim");
		nimln(244, "gc.nim");
		if (!!((src == NIM_NIL))) goto LA3;
		nimln(244, "gc.nim");
		nimln(244, "gc.nim");
		LOC5 = 0;
		LOC5 = usrtocell_48646(src);
		incref_51025(LOC5);
	}
	LA3: ;
	nimln(245, "gc.nim");
	{
		tcell44933* LOC10;
		nimln(245, "gc.nim");
		nimln(245, "gc.nim");
		if (!!(((*dest) == NIM_NIL))) goto LA8;
		nimln(245, "gc.nim");
		nimln(245, "gc.nim");
		LOC10 = 0;
		LOC10 = usrtocell_48646((*dest));
		decref_50604(LOC10);
	}
	LA8: ;
	nimln(246, "gc.nim");
	(*dest) = src;
	popFrame();
}

N_NIMCALL(assetHEX3Aobjecttype149027*, copy_149074)(assetHEX3Aobjecttype149027* a) {
	assetHEX3Aobjecttype149027* result;
	nimfr("copy", "pack.nim")
	result = 0;
	nimln(36, "pack.nim");
	result = (assetHEX3Aobjecttype149027*) newObj((&NTI149011), sizeof(assetHEX3Aobjecttype149027));
	nimln(36, "pack.nim");
	asgnRef((void**) (&(*result).P), a);
	nimln(36, "pack.nim");
	(*result).I = (*a).I;
	nimln(36, "pack.nim");
	asgnRefNoCycle((void**) (&(*result).G), (*a).G);
	nimln(37, "pack.nim");
	genericSeqAssign((&(*result).R), (*a).R, (&NTI149048));
	popFrame();
	return result;
}

static N_INLINE(void, appendString)(NimStringDesc* dest, NimStringDesc* src) {
	memcpy(((NCSTRING) ((&(*dest).data[((*dest).Sup.len)- 0]))), ((NCSTRING) ((*src).data)), (NI32)((*src).Sup.len + 1));
	(*dest).Sup.len += (*src).Sup.len;
}

N_NIMCALL(NimStringDesc*, HEX24_149100)(dataentry149005 d) {
	NimStringDesc* result;
	NimStringDesc* LOC1;
	NimStringDesc* LOC2;
	nimfr("$", "pack.nim")
	result = 0;
	nimln(39, "pack.nim");
	nimln(39, "pack.nim");
	LOC1 = 0;
	nimln(39, "pack.nim");
	nimln(39, "pack.nim");
	LOC2 = 0;
	LOC2 = nimIntToStr(d.V);
	LOC1 = rawNewString(d.K->Sup.len + LOC2->Sup.len + 1);
appendString(LOC1, d.K);
appendString(LOC1, ((NimStringDesc*) &TMP377));
appendString(LOC1, LOC2);
	result = LOC1;
	popFrame();
	return result;
}

static N_INLINE(void*, seqtoptr_149133)(TY149020* x_149139) {
	void* result;
	nimfr("seqToPtr", "system.nim")
	result = 0;
	nimln(1777, "system.nim");
	result = ((void*) (x_149139));
	popFrame();
	return result;
}

N_NIMCALL(NimStringDesc*, HEX24_149110)(rect149007* r) {
	NimStringDesc* result;
	NimStringDesc* LOC1;
	NimStringDesc* LOC2;
	NimStringDesc* LOC3;
	NimStringDesc* LOC4;
	NimStringDesc* LOC5;
	NimStringDesc* LOC6;
	nimfr("$", "pack.nim")
	result = 0;
	nimln(40, "pack.nim");
	nimln(40, "pack.nim");
	LOC1 = 0;
	nimln(40, "pack.nim");
	LOC2 = 0;
	LOC2 = nimIntToStr((*r).X);
	nimln(40, "pack.nim");
	LOC3 = 0;
	LOC3 = nimIntToStr((*r).Y);
	nimln(40, "pack.nim");
	LOC4 = 0;
	LOC4 = nimIntToStr((*r).W);
	nimln(40, "pack.nim");
	LOC5 = 0;
	LOC5 = nimIntToStr((*r).H);
	LOC6 = 0;
	nimln(41, "pack.nim");
	{
		NIM_BOOL LOC9;
		NimStringDesc* LOC12;
		NimStringDesc* LOC13;
		nimln(41, "pack.nim");
		nimln(41, "pack.nim");
		LOC9 = 0;
		LOC9 = HEX3DHEX3D_149117((*r).D, NIM_NIL);
		if (!!(LOC9)) goto LA10;
		nimln(41, "pack.nim");
		LOC12 = 0;
		nimln(41, "pack.nim");
		LOC13 = 0;
		LOC13 = HEX24_149264((*r).D);
		LOC12 = rawNewString(LOC13->Sup.len + 3);
appendString(LOC12, ((NimStringDesc*) &TMP385));
appendString(LOC12, LOC13);
		LOC6 = LOC12;
	}
	goto LA7;
	LA10: ;
	{
		LOC6 = copyString(((NimStringDesc*) &TMP386));
	}
	LA7: ;
	LOC1 = rawNewString(LOC2->Sup.len + LOC3->Sup.len + LOC4->Sup.len + LOC5->Sup.len + LOC6->Sup.len + 11);
appendString(LOC1, ((NimStringDesc*) &TMP381));
appendString(LOC1, LOC2);
appendString(LOC1, ((NimStringDesc*) &TMP382));
appendString(LOC1, LOC3);
appendString(LOC1, ((NimStringDesc*) &TMP383));
appendString(LOC1, LOC4);
appendString(LOC1, ((NimStringDesc*) &TMP384));
appendString(LOC1, LOC5);
appendString(LOC1, LOC6);
	result = LOC1;
	popFrame();
	return result;
}

N_NIMCALL(NimStringDesc*, HEX24_149450)(cropresultHEX3Aobjecttype149033* c) {
	NimStringDesc* result;
	NimStringDesc* LOC1;
	NimStringDesc* LOC2;
	NimStringDesc* LOC3;
	NimStringDesc* LOC4;
	NimStringDesc* LOC5;
	nimfr("$", "pack.nim")
	result = 0;
	nimln(42, "pack.nim");
	nimln(43, "pack.nim");
	LOC1 = 0;
	nimln(42, "pack.nim");
	LOC2 = 0;
	LOC2 = nimIntToStr((*c).Left);
	nimln(42, "pack.nim");
	LOC3 = 0;
	LOC3 = nimIntToStr((*c).Top);
	nimln(43, "pack.nim");
	LOC4 = 0;
	LOC4 = nimIntToStr((*c).Right);
	nimln(43, "pack.nim");
	LOC5 = 0;
	LOC5 = nimIntToStr((*c).Bottom);
	LOC1 = rawNewString(LOC2->Sup.len + LOC3->Sup.len + LOC4->Sup.len + LOC5->Sup.len + 11);
appendString(LOC1, ((NimStringDesc*) &TMP387));
appendString(LOC1, LOC2);
appendString(LOC1, ((NimStringDesc*) &TMP388));
appendString(LOC1, LOC3);
appendString(LOC1, ((NimStringDesc*) &TMP389));
appendString(LOC1, LOC4);
appendString(LOC1, ((NimStringDesc*) &TMP390));
appendString(LOC1, LOC5);
	result = LOC1;
	popFrame();
	return result;
}

N_NIMCALL(NimStringDesc*, HEX24_149460)(assetgroupHEX3Aobjecttype149022* g) {
	NimStringDesc* result;
	NimStringDesc* LOC1;
	NimStringDesc* LOC2;
	NimStringDesc* LOC3;
	NimStringDesc* LOC4;
	nimfr("$", "pack.nim")
	result = 0;
	nimln(45, "pack.nim");
	nimln(46, "pack.nim");
	LOC1 = 0;
	nimln(45, "pack.nim");
	nimln(45, "pack.nim");
	LOC2 = 0;
	LOC2 = nimIntToStr((*g).Counter);
	nimln(46, "pack.nim");
	LOC3 = 0;
	LOC3 = nimIntToStr((*g).Rect.W);
	nimln(46, "pack.nim");
	LOC4 = 0;
	LOC4 = nimIntToStr((*g).Rect.H);
	LOC1 = rawNewString((*g).Name->Sup.len + LOC2->Sup.len + LOC3->Sup.len + LOC4->Sup.len + 7);
appendString(LOC1, (*g).Name);
appendString(LOC1, ((NimStringDesc*) &TMP377));
appendString(LOC1, LOC2);
appendString(LOC1, ((NimStringDesc*) &TMP383));
appendString(LOC1, LOC3);
appendString(LOC1, ((NimStringDesc*) &TMP384));
appendString(LOC1, LOC4);
	result = LOC1;
	popFrame();
	return result;
}

N_NIMCALL(NimStringDesc*, HEX24_149470)(assetHEX3Aobjecttype149027* p) {
	NimStringDesc* result;
	NimStringDesc* LOC1;
	NimStringDesc* LOC2;
	NimStringDesc* LOC3;
	nimfr("$", "pack.nim")
	result = 0;
	nimln(47, "pack.nim");
	nimln(47, "pack.nim");
	LOC1 = 0;
	nimln(47, "pack.nim");
	LOC2 = 0;
	LOC2 = nimIntToStr((*p).I);
	nimln(47, "pack.nim");
	nimln(47, "pack.nim");
	LOC3 = 0;
	LOC3 = HEX24_149476((*p).R);
	LOC1 = rawNewString(LOC2->Sup.len + (*(*p).G).Name->Sup.len + LOC3->Sup.len + 16);
appendString(LOC1, ((NimStringDesc*) &TMP391));
appendString(LOC1, LOC2);
appendString(LOC1, ((NimStringDesc*) &TMP392));
appendString(LOC1, (*(*p).G).Name);
appendString(LOC1, ((NimStringDesc*) &TMP393));
appendString(LOC1, LOC3);
	result = LOC1;
	popFrame();
	return result;
}
N_NIMCALL(void, TMP395)(void* p, NI op) {
	TY149666* a;
	NI LOC1;
	a = (TY149666*)p;
	LOC1 = 0;
	for (LOC1 = 0; LOC1 < a->Sup.len; LOC1++) {
	nimGCvisit((void*)a->data[LOC1].A, op);
	}
}

static N_INLINE(NI, addInt)(NI a, NI b) {
	NI result;
	result = 0;
	result = (NI)((NU32)(a) + (NU32)(b));
	{
		NIM_BOOL LOC3;
		LOC3 = 0;
		LOC3 = (0 <= (NI)(result ^ a));
		if (LOC3) goto LA4;
		LOC3 = (0 <= (NI)(result ^ b));
		LA4: ;
		if (!LOC3) goto LA5;
		goto BeforeRet;
	}
	LA5: ;
	raiseOverflow();
	BeforeRet: ;
	return result;
}

N_NIMCALL(TY149666*, viewassetrects_149661)(TY149663* ar, assetrectfilter149651 fn) {
	TY149666* result;
	nimfr("viewAssetRects", "pack.nim")
	result = 0;
	nimln(58, "pack.nim");
	result = (TY149666*) newSeq((&NTI149666), 0);
	{
		assetHEX3Aobjecttype149027* a_149822;
		NI i_149863;
		NI l_149865;
		a_149822 = 0;
		nimln(2986, "system.nim");
		i_149863 = 0;
		nimln(2987, "system.nim");
		nimln(2987, "system.nim");
		l_149865 = ar->Sup.len;
		{
			nimln(2988, "system.nim");
			while (1) {
				nimln(2988, "system.nim");
				if (!(i_149863 < l_149865)) goto LA3;
				nimln(2989, "system.nim");
				if ((NU)(i_149863) >= (NU)(ar->Sup.len)) raiseIndexError();
				a_149822 = ar->data[i_149863];
				{
					NI i0_149833;
					NI HEX3Atmp_149856;
					NI res_149859;
					i0_149833 = 0;
					HEX3Atmp_149856 = 0;
					nimln(60, "pack.nim");
					nimln(60, "pack.nim");
					HEX3Atmp_149856 = ((*a_149822).R->Sup.len-1);
					nimln(1576, "system.nim");
					res_149859 = 0;
					{
						nimln(1577, "system.nim");
						while (1) {
							nimln(1577, "system.nim");
							if (!(res_149859 <= HEX3Atmp_149856)) goto LA6;
							nimln(1576, "system.nim");
							i0_149833 = res_149859;
							nimln(61, "pack.nim");
							{
								NIM_BOOL LOC9;
								assetrectview149653 v;
								nimln(61, "pack.nim");
								if ((NU)(i0_149833) >= (NU)((*a_149822).R->Sup.len)) raiseIndexError();
								LOC9 = 0;
								LOC9 = fn.ClEnv? fn.ClPrc((&(*a_149822).R->data[i0_149833]), fn.ClEnv):((TMP396)(fn.ClPrc))((&(*a_149822).R->data[i0_149833]));
								if (!LOC9) goto LA10;
								memset((void*)(&v), 0, sizeof(v));
								nimln(63, "pack.nim");
								v.A = a_149822;
								nimln(64, "pack.nim");
								v.I = i0_149833;
								nimln(65, "pack.nim");
								result = (TY149666*) incrSeq(&(result)->Sup, sizeof(assetrectview149653));
								asgnRef((void**) (&result->data[result->Sup.len-1].A), v.A);
								result->data[result->Sup.len-1].I = v.I;
							}
							LA10: ;
							nimln(1579, "system.nim");
							res_149859 = addInt(res_149859, 1);
						} LA6: ;
					}
				}
				nimln(2990, "system.nim");
				i_149863 = addInt(i_149863, 1);
				nimln(2991, "system.nim");
				{
					nimln(2991, "system.nim");
					nimln(2991, "system.nim");
					nimln(2991, "system.nim");
					if (!!((ar->Sup.len == l_149865))) goto LA14;
					nimln(2991, "system.nim");
					failedassertimpl_86825(((NimStringDesc*) &TMP397));
				}
				LA14: ;
			} LA3: ;
		}
	}
	popFrame();
	return result;
}

N_NIMCALL(void, newrect_149915)(NI x, NI y, NI w, NI h, TY149020* d, rect149007* Result) {
	nimfr("newRect", "pack.nim")
	nimln(73, "pack.nim");
	(*Result).X = x;
	nimln(73, "pack.nim");
	(*Result).Y = y;
	nimln(73, "pack.nim");
	(*Result).W = w;
	nimln(73, "pack.nim");
	(*Result).H = h;
	nimln(73, "pack.nim");
	genericSeqAssign((&(*Result).D), d, (&NTI149020));
	popFrame();
}

static N_INLINE(void, nimGCunrefNoCycle)(void* p) {
	tcell44933* c;
	nimfr("nimGCunrefNoCycle", "gc.nim")
	nimln(233, "gc.nim");
	c = usrtocell_48646(p);
	nimln(235, "gc.nim");
	{
		nimln(167, "gc.nim");
		(*c).Refcount -= 8;
		nimln(168, "gc.nim");
		if (!((NU32)((*c).Refcount) < (NU32)(8))) goto LA3;
		nimln(236, "gc.nim");
		rtladdzct_50204(c);
	}
	LA3: ;
	popFrame();
}

N_NIMCALL(void, add_149950)(TY149020** s, NimStringDesc* k, NI v) {
	dataentry149005 d;
	NimStringDesc* LOC1;
	nimfr("add", "pack.nim")
	memset((void*)(&d), 0, sizeof(d));
	nimln(81, "pack.nim");
	d.K = copyString(k);
	nimln(81, "pack.nim");
	d.V = v;
	nimln(81, "pack.nim");
	(*s) = (TY149020*) incrSeq(&((*s))->Sup, sizeof(dataentry149005));
	LOC1 = 0;
	LOC1 = (*s)->data[(*s)->Sup.len-1].K; (*s)->data[(*s)->Sup.len-1].K = copyStringRC1(d.K);
	if (LOC1) nimGCunrefNoCycle(LOC1);
	(*s)->data[(*s)->Sup.len-1].V = d.V;
	popFrame();
}

static N_INLINE(NI, subInt)(NI a, NI b) {
	NI result;
	result = 0;
	result = (NI)((NU32)(a) - (NU32)(b));
	{
		NIM_BOOL LOC3;
		LOC3 = 0;
		LOC3 = (0 <= (NI)(result ^ a));
		if (LOC3) goto LA4;
		LOC3 = (0 <= (NI)(result ^ (NI)((NU32) ~(b))));
		LA4: ;
		if (!LOC3) goto LA5;
		goto BeforeRet;
	}
	LA5: ;
	raiseOverflow();
	BeforeRet: ;
	return result;
}

static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* a, NimStringDesc* b) {
	NIM_BOOL result;
	NIM_BOOL LOC11;
	int LOC13;
	result = 0;
	{
		if (!(a == b)) goto LA3;
		result = NIM_TRUE;
		goto BeforeRet;
	}
	LA3: ;
	{
		NIM_BOOL LOC7;
		LOC7 = 0;
		LOC7 = (a == NIM_NIL);
		if (LOC7) goto LA8;
		LOC7 = (b == NIM_NIL);
		LA8: ;
		if (!LOC7) goto LA9;
		result = NIM_FALSE;
		goto BeforeRet;
	}
	LA9: ;
	LOC11 = 0;
	LOC11 = ((*a).Sup.len == (*b).Sup.len);
	if (!(LOC11)) goto LA12;
	LOC13 = 0;
	LOC13 = memcmp(((NCSTRING) ((*a).data)), ((NCSTRING) ((*b).data)), (NI32)((*a).Sup.len * 1));
	LOC11 = (LOC13 == ((NI32) 0));
	LA12: ;
	result = LOC11;
	goto BeforeRet;
	BeforeRet: ;
	return result;
}

N_NIMCALL(void, HEX5BHEX5DHEX3D_149983)(TY149020** s, NimStringDesc* k, NI v) {
	NI pos_149991;
	nimfr("[]=", "pack.nim")
	nimln(282, "sequtils.nim");
	pos_149991 = 0;
	{
		NI i_149993;
		NI HEX3Atmp_150060;
		NI res_150063;
		i_149993 = 0;
		HEX3Atmp_150060 = 0;
		nimln(283, "sequtils.nim");
		nimln(283, "sequtils.nim");
		nimln(283, "sequtils.nim");
		HEX3Atmp_150060 = subInt((*s)->Sup.len, 1);
		nimln(1576, "system.nim");
		res_150063 = 0;
		{
			nimln(1577, "system.nim");
			while (1) {
				dataentry149005 it;
				nimln(1577, "system.nim");
				if (!(res_150063 <= HEX3Atmp_150060)) goto LA3;
				nimln(1576, "system.nim");
				i_149993 = res_150063;
				memset((void*)(&it), 0, sizeof(it));
				nimln(284, "sequtils.nim");
				if ((NU)(i_149993) >= (NU)((*s)->Sup.len)) raiseIndexError();
				it.K = (*s)->data[i_149993].K;
				it.V = (*s)->data[i_149993].V;
				nimln(285, "sequtils.nim");
				{
					nimln(85, "pack.nim");
					nimln(85, "pack.nim");
					if (!!(eqStrings(it.K, k))) goto LA6;
					nimln(286, "sequtils.nim");
					{
						NimStringDesc* LOC12;
						nimln(286, "sequtils.nim");
						nimln(286, "sequtils.nim");
						if (!!((pos_149991 == i_149993))) goto LA10;
						nimln(287, "sequtils.nim");
						if ((NU)(pos_149991) >= (NU)((*s)->Sup.len)) raiseIndexError();
						if ((NU)(i_149993) >= (NU)((*s)->Sup.len)) raiseIndexError();
						LOC12 = 0;
						LOC12 = (*s)->data[pos_149991].K; (*s)->data[pos_149991].K = copyStringRC1((*s)->data[i_149993].K);
						if (LOC12) nimGCunrefNoCycle(LOC12);
						(*s)->data[pos_149991].V = (*s)->data[i_149993].V;
					}
					LA10: ;
					nimln(288, "sequtils.nim");
					pos_149991 = addInt(pos_149991, 1);
				}
				LA6: ;
				nimln(1579, "system.nim");
				res_150063 = addInt(res_150063, 1);
			} LA3: ;
		}
	}
	nimln(289, "sequtils.nim");
	(*s) = (TY149020*) setLengthSeq(&((*s))->Sup, sizeof(dataentry149005), pos_149991);
	nimln(85, "pack.nim");
	add_149950(s, k, v);
	popFrame();
}

N_NIMCALL(TY149020*, HEX5BHEX5D_150080)(TY149020* s, NimStringDesc* k) {
	TY149020* result_150086;
	TY149020* result_150088;
	nimfr("[]", "pack.nim")
	result_150086 = 0;
	nimln(88, "pack.nim");
	nimln(266, "sequtils.nim");
	result_150088 = (TY149020*) newSeq((&NTI149020), 0);
	{
		dataentry149005 it_150121;
		NI i_150143;
		NI l_150145;
		memset((void*)(&it_150121), 0, sizeof(it_150121));
		nimln(2986, "system.nim");
		i_150143 = 0;
		nimln(2987, "system.nim");
		nimln(2987, "system.nim");
		l_150145 = s->Sup.len;
		{
			nimln(2988, "system.nim");
			while (1) {
				nimln(2988, "system.nim");
				if (!(i_150143 < l_150145)) goto LA3;
				nimln(2989, "system.nim");
				if ((NU)(i_150143) >= (NU)(s->Sup.len)) raiseIndexError();
				it_150121.K = s->data[i_150143].K;
				it_150121.V = s->data[i_150143].V;
				nimln(268, "sequtils.nim");
				{
					NimStringDesc* LOC8;
					nimln(88, "pack.nim");
					if (!eqStrings(it_150121.K, k)) goto LA6;
					nimln(268, "sequtils.nim");
					result_150088 = (TY149020*) incrSeq(&(result_150088)->Sup, sizeof(dataentry149005));
					LOC8 = 0;
					LOC8 = result_150088->data[result_150088->Sup.len-1].K; result_150088->data[result_150088->Sup.len-1].K = copyStringRC1(it_150121.K);
					if (LOC8) nimGCunrefNoCycle(LOC8);
					result_150088->data[result_150088->Sup.len-1].V = it_150121.V;
				}
				LA6: ;
				nimln(2990, "system.nim");
				i_150143 = addInt(i_150143, 1);
				nimln(2991, "system.nim");
				{
					nimln(2991, "system.nim");
					nimln(2991, "system.nim");
					nimln(2991, "system.nim");
					if (!!((s->Sup.len == l_150145))) goto LA11;
					nimln(2991, "system.nim");
					failedassertimpl_86825(((NimStringDesc*) &TMP397));
				}
				LA11: ;
			} LA3: ;
		}
	}
	genericSeqAssign((&result_150086), result_150088, (&NTI149020));
	popFrame();
	return result_150086;
}

N_NIMCALL(void, newdata_150161)(NimStringDesc* k, NI v, dataentry149005* Result) {
	nimfr("newData", "pack.nim")
	nimln(91, "pack.nim");
	unsureAsgnRef((void**) (&(*Result).K), copyString(k));
	nimln(91, "pack.nim");
	(*Result).V = v;
	popFrame();
}

N_NIMCALL(TY149048*, rhoriztiling_150172)(assetgroupHEX3Aobjecttype149022* g, NI tw, NI th, NI iw, NI ih, NI sx, NI sy) {
	TY149048* result;
	NI y0;
	NI i0;
	NI iw0;
	NI ih0;
	nimfr("rHorizTiling", "pack.nim")
	result = 0;
	nimln(99, "pack.nim");
	y0 = sy;
	nimln(100, "pack.nim");
	i0 = 0;
	nimln(101, "pack.nim");
	nimln(101, "pack.nim");
	{
		nimln(101, "pack.nim");
		if (!(iw == 0)) goto LA3;
		iw0 = tw;
	}
	goto LA1;
	LA3: ;
	{
		iw0 = iw;
	}
	LA1: ;
	nimln(102, "pack.nim");
	nimln(102, "pack.nim");
	{
		nimln(102, "pack.nim");
		if (!(ih == 0)) goto LA8;
		ih0 = th;
	}
	goto LA6;
	LA8: ;
	{
		ih0 = ih;
	}
	LA6: ;
	nimln(103, "pack.nim");
	result = (TY149048*) newSeq((&NTI149048), 0);
	{
		nimln(104, "pack.nim");
		while (1) {
			NIM_BOOL LOC13;
			NI TMP400;
			NI x0;
			nimln(104, "pack.nim");
			LOC13 = 0;
			nimln(104, "pack.nim");
			nimln(104, "pack.nim");
			TMP400 = addInt(y0, th);
			LOC13 = ((NI32)(TMP400) <= (*g).Rect.H);
			if (!(LOC13)) goto LA14;
			nimln(104, "pack.nim");
			LOC13 = (0 <= y0);
			LA14: ;
			if (!LOC13) goto LA12;
			nimln(105, "pack.nim");
			x0 = sx;
			{
				nimln(106, "pack.nim");
				while (1) {
					NIM_BOOL LOC17;
					NI TMP401;
					TY149048* LOC19;
					TY150226 LOC20;
					nimln(106, "pack.nim");
					LOC17 = 0;
					nimln(106, "pack.nim");
					nimln(106, "pack.nim");
					TMP401 = addInt(x0, tw);
					LOC17 = ((NI32)(TMP401) <= (*g).Rect.W);
					if (!(LOC17)) goto LA18;
					nimln(106, "pack.nim");
					LOC17 = (0 <= x0);
					LA18: ;
					if (!LOC17) goto LA16;
					nimln(107, "pack.nim");
					nimln(107, "pack.nim");
					LOC19 = 0;
					LOC19 = (TY149048*) newSeq((&NTI149048), 1);
					memset((void*)LOC20, 0, sizeof(LOC20));
					nimln(107, "pack.nim");
					newrect_149915(x0, y0, tw, th, NIM_NIL, (&LOC20[0]));
					genericAssign((void*)(&LOC19->data[0]), (void*)(&LOC20[0]), (&NTI149007));
					add_150232((&result), LOC19->data, LOC19->Sup.len);
					nimln(108, "pack.nim");
					x0 = addInt(x0, iw0);
					nimln(109, "pack.nim");
					i0 = addInt(i0, 1);
				} LA16: ;
			}
			nimln(110, "pack.nim");
			y0 = addInt(y0, ih0);
		} LA12: ;
	}
	popFrame();
	return result;
}

N_NIMCALL(TY149048*, rverttiling_150369)(assetgroupHEX3Aobjecttype149022* g, NI tw, NI th, NI iw, NI ih, NI sx, NI sy) {
	TY149048* result;
	NI x0;
	NI i0;
	NI iw0;
	NI ih0;
	nimfr("rVertTiling", "pack.nim")
	result = 0;
	nimln(118, "pack.nim");
	x0 = sx;
	nimln(119, "pack.nim");
	i0 = 0;
	nimln(120, "pack.nim");
	nimln(120, "pack.nim");
	{
		nimln(120, "pack.nim");
		if (!(iw == 0)) goto LA3;
		iw0 = tw;
	}
	goto LA1;
	LA3: ;
	{
		iw0 = iw;
	}
	LA1: ;
	nimln(121, "pack.nim");
	nimln(121, "pack.nim");
	{
		nimln(121, "pack.nim");
		if (!(ih == 0)) goto LA8;
		ih0 = th;
	}
	goto LA6;
	LA8: ;
	{
		ih0 = ih;
	}
	LA6: ;
	nimln(122, "pack.nim");
	result = (TY149048*) newSeq((&NTI149048), 0);
	{
		nimln(123, "pack.nim");
		while (1) {
			NIM_BOOL LOC13;
			NI TMP402;
			NI y0;
			nimln(123, "pack.nim");
			LOC13 = 0;
			nimln(123, "pack.nim");
			nimln(123, "pack.nim");
			TMP402 = addInt(x0, tw);
			LOC13 = ((NI32)(TMP402) <= (*g).Rect.W);
			if (!(LOC13)) goto LA14;
			nimln(123, "pack.nim");
			LOC13 = (0 <= x0);
			LA14: ;
			if (!LOC13) goto LA12;
			nimln(124, "pack.nim");
			y0 = sy;
			{
				nimln(125, "pack.nim");
				while (1) {
					NIM_BOOL LOC17;
					NI TMP403;
					TY149048* LOC19;
					TY150226 LOC20;
					nimln(125, "pack.nim");
					LOC17 = 0;
					nimln(125, "pack.nim");
					nimln(125, "pack.nim");
					TMP403 = addInt(y0, th);
					LOC17 = ((NI32)(TMP403) <= (*g).Rect.H);
					if (!(LOC17)) goto LA18;
					nimln(125, "pack.nim");
					LOC17 = (0 <= y0);
					LA18: ;
					if (!LOC17) goto LA16;
					nimln(126, "pack.nim");
					nimln(126, "pack.nim");
					LOC19 = 0;
					LOC19 = (TY149048*) newSeq((&NTI149048), 1);
					memset((void*)LOC20, 0, sizeof(LOC20));
					nimln(126, "pack.nim");
					newrect_149915(x0, y0, tw, th, NIM_NIL, (&LOC20[0]));
					genericAssign((void*)(&LOC19->data[0]), (void*)(&LOC20[0]), (&NTI149007));
					add_150232((&result), LOC19->data, LOC19->Sup.len);
					nimln(127, "pack.nim");
					y0 = addInt(y0, ih0);
					nimln(128, "pack.nim");
					i0 = addInt(i0, 1);
				} LA16: ;
			}
			nimln(129, "pack.nim");
			x0 = addInt(x0, iw0);
		} LA12: ;
	}
	popFrame();
	return result;
}

N_NIMCALL(TY149048*, rwidths_150502)(assetgroupHEX3Aobjecttype149022* g, TY150505* widths, NI th, NIM_BOOL posiw, NI ih, NI sx, NI sy) {
	TY149048* result;
	NI y0;
	NI i0;
	NI ih0;
	nimfr("rWidths", "pack.nim")
	result = 0;
	nimln(137, "pack.nim");
	y0 = sy;
	nimln(138, "pack.nim");
	i0 = 0;
	nimln(139, "pack.nim");
	nimln(139, "pack.nim");
	{
		nimln(139, "pack.nim");
		if (!(ih == 0)) goto LA3;
		ih0 = th;
	}
	goto LA1;
	LA3: ;
	{
		ih0 = ih;
	}
	LA1: ;
	nimln(140, "pack.nim");
	result = (TY149048*) newSeq((&NTI149048), 0);
	{
		nimln(141, "pack.nim");
		while (1) {
			NIM_BOOL LOC8;
			NIM_BOOL LOC9;
			NI TMP404;
			NI x0;
			nimln(141, "pack.nim");
			LOC8 = 0;
			nimln(141, "pack.nim");
			LOC9 = 0;
			nimln(141, "pack.nim");
			nimln(141, "pack.nim");
			LOC9 = (i0 < widths->Sup.len);
			if (!(LOC9)) goto LA10;
			nimln(141, "pack.nim");
			nimln(141, "pack.nim");
			TMP404 = addInt(y0, th);
			LOC9 = ((NI32)(TMP404) <= (*g).Rect.H);
			LA10: ;
			LOC8 = LOC9;
			if (!(LOC8)) goto LA11;
			nimln(141, "pack.nim");
			LOC8 = (0 <= y0);
			LA11: ;
			if (!LOC8) goto LA7;
			nimln(142, "pack.nim");
			x0 = sx;
			{
				nimln(143, "pack.nim");
				while (1) {
					NIM_BOOL LOC14;
					NIM_BOOL LOC15;
					NI TMP405;
					TY149048* LOC18;
					TY150226 LOC19;
					nimln(143, "pack.nim");
					LOC14 = 0;
					nimln(143, "pack.nim");
					LOC15 = 0;
					nimln(143, "pack.nim");
					nimln(143, "pack.nim");
					LOC15 = (i0 < widths->Sup.len);
					if (!(LOC15)) goto LA16;
					nimln(143, "pack.nim");
					nimln(143, "pack.nim");
					if ((NU)(i0) >= (NU)(widths->Sup.len)) raiseIndexError();
					TMP405 = addInt(x0, widths->data[i0]);
					LOC15 = ((NI32)(TMP405) <= (*g).Rect.W);
					LA16: ;
					LOC14 = LOC15;
					if (!(LOC14)) goto LA17;
					nimln(143, "pack.nim");
					LOC14 = (0 <= x0);
					LA17: ;
					if (!LOC14) goto LA13;
					nimln(144, "pack.nim");
					nimln(144, "pack.nim");
					LOC18 = 0;
					LOC18 = (TY149048*) newSeq((&NTI149048), 1);
					memset((void*)LOC19, 0, sizeof(LOC19));
					nimln(144, "pack.nim");
					if ((NU)(i0) >= (NU)(widths->Sup.len)) raiseIndexError();
					newrect_149915(x0, y0, widths->data[i0], th, NIM_NIL, (&LOC19[0]));
					genericAssign((void*)(&LOC18->data[0]), (void*)(&LOC19[0]), (&NTI149007));
					add_150232((&result), LOC18->data, LOC18->Sup.len);
					nimln(145, "pack.nim");
					{
						if (!posiw) goto LA22;
						nimln(145, "pack.nim");
						if ((NU)(i0) >= (NU)(widths->Sup.len)) raiseIndexError();
						x0 = addInt(x0, widths->data[i0]);
					}
					goto LA20;
					LA22: ;
					{
						nimln(145, "pack.nim");
						if ((NU)(i0) >= (NU)(widths->Sup.len)) raiseIndexError();
						x0 = subInt(x0, widths->data[i0]);
					}
					LA20: ;
					nimln(146, "pack.nim");
					i0 = addInt(i0, 1);
				} LA13: ;
			}
			nimln(147, "pack.nim");
			y0 = addInt(y0, ih0);
		} LA7: ;
	}
	popFrame();
	return result;
}

N_NIMCALL(TY149048*, rheights_150671)(assetgroupHEX3Aobjecttype149022* g, TY150505* heights, NI tw, NIM_BOOL posih, NI iw, NI sx, NI sy) {
	TY149048* result;
	NI x0;
	NI i0;
	NI iw0;
	nimfr("rHeights", "pack.nim")
	result = 0;
	nimln(155, "pack.nim");
	x0 = sx;
	nimln(156, "pack.nim");
	i0 = 0;
	nimln(157, "pack.nim");
	nimln(157, "pack.nim");
	{
		nimln(157, "pack.nim");
		if (!(iw == 0)) goto LA3;
		iw0 = tw;
	}
	goto LA1;
	LA3: ;
	{
		iw0 = iw;
	}
	LA1: ;
	nimln(158, "pack.nim");
	result = (TY149048*) newSeq((&NTI149048), 0);
	{
		nimln(159, "pack.nim");
		while (1) {
			NIM_BOOL LOC8;
			NIM_BOOL LOC9;
			NI TMP406;
			NI y0;
			nimln(159, "pack.nim");
			LOC8 = 0;
			nimln(159, "pack.nim");
			LOC9 = 0;
			nimln(159, "pack.nim");
			nimln(159, "pack.nim");
			LOC9 = (i0 < heights->Sup.len);
			if (!(LOC9)) goto LA10;
			nimln(159, "pack.nim");
			nimln(159, "pack.nim");
			TMP406 = addInt(x0, tw);
			LOC9 = ((NI32)(TMP406) <= (*g).Rect.W);
			LA10: ;
			LOC8 = LOC9;
			if (!(LOC8)) goto LA11;
			nimln(159, "pack.nim");
			LOC8 = (0 <= x0);
			LA11: ;
			if (!LOC8) goto LA7;
			nimln(160, "pack.nim");
			y0 = sy;
			{
				nimln(161, "pack.nim");
				while (1) {
					NIM_BOOL LOC14;
					NIM_BOOL LOC15;
					NI TMP407;
					TY149048* LOC18;
					TY150226 LOC19;
					nimln(161, "pack.nim");
					LOC14 = 0;
					nimln(161, "pack.nim");
					LOC15 = 0;
					nimln(161, "pack.nim");
					nimln(161, "pack.nim");
					LOC15 = (i0 < heights->Sup.len);
					if (!(LOC15)) goto LA16;
					nimln(161, "pack.nim");
					nimln(161, "pack.nim");
					if ((NU)(i0) >= (NU)(heights->Sup.len)) raiseIndexError();
					TMP407 = addInt(y0, heights->data[i0]);
					LOC15 = ((NI32)(TMP407) <= (*g).Rect.H);
					LA16: ;
					LOC14 = LOC15;
					if (!(LOC14)) goto LA17;
					nimln(161, "pack.nim");
					LOC14 = (0 <= y0);
					LA17: ;
					if (!LOC14) goto LA13;
					nimln(162, "pack.nim");
					nimln(162, "pack.nim");
					LOC18 = 0;
					LOC18 = (TY149048*) newSeq((&NTI149048), 1);
					memset((void*)LOC19, 0, sizeof(LOC19));
					nimln(162, "pack.nim");
					if ((NU)(i0) >= (NU)(heights->Sup.len)) raiseIndexError();
					newrect_149915(x0, y0, tw, heights->data[i0], NIM_NIL, (&LOC19[0]));
					genericAssign((void*)(&LOC18->data[0]), (void*)(&LOC19[0]), (&NTI149007));
					add_150232((&result), LOC18->data, LOC18->Sup.len);
					nimln(163, "pack.nim");
					{
						if (!posih) goto LA22;
						nimln(163, "pack.nim");
						if ((NU)(i0) >= (NU)(heights->Sup.len)) raiseIndexError();
						y0 = addInt(y0, heights->data[i0]);
					}
					goto LA20;
					LA22: ;
					{
						nimln(163, "pack.nim");
						if ((NU)(i0) >= (NU)(heights->Sup.len)) raiseIndexError();
						y0 = subInt(y0, heights->data[i0]);
					}
					LA20: ;
					nimln(164, "pack.nim");
					i0 = addInt(i0, 1);
				} LA13: ;
			}
			nimln(165, "pack.nim");
			x0 = addInt(x0, iw0);
		} LA7: ;
	}
	popFrame();
	return result;
}
N_NIMCALL(void, TMP408)(void* p, NI op) {
	TY149663* a;
	NI LOC1;
	a = (TY149663*)p;
	LOC1 = 0;
	for (LOC1 = 0; LOC1 < a->Sup.len; LOC1++) {
	nimGCvisit((void*)a->data[LOC1], op);
	}
}

N_NIMCALL(TY149663*, assetsofrects_150840)(assetgroupHEX3Aobjecttype149022* g, TY150843* rects) {
	TY149663* result;
	NI i0;
	nimfr("assetsOfRects", "pack.nim")
	result = 0;
	nimln(170, "pack.nim");
	i0 = 0;
	nimln(171, "pack.nim");
	result = (TY149663*) newSeq((&NTI149663), 0);
	{
		nimln(172, "pack.nim");
		while (1) {
			NI x0;
			NI y0;
			NI w0;
			NI h0;
			NI TMP409;
			TY149048* LOC3;
			TY150226 LOC4;
			assetHEX3Aobjecttype149027* LOC5;
			nimln(172, "pack.nim");
			nimln(172, "pack.nim");
			if (!(i0 < rects->Sup.len)) goto LA2;
			nimln(173, "pack.nim");
			if ((NU)(i0) >= (NU)(rects->Sup.len)) raiseIndexError();
			x0 = rects->data[i0][(0)- 0];
			nimln(174, "pack.nim");
			if ((NU)(i0) >= (NU)(rects->Sup.len)) raiseIndexError();
			y0 = rects->data[i0][(1)- 0];
			nimln(175, "pack.nim");
			if ((NU)(i0) >= (NU)(rects->Sup.len)) raiseIndexError();
			w0 = rects->data[i0][(2)- 0];
			nimln(176, "pack.nim");
			if ((NU)(i0) >= (NU)(rects->Sup.len)) raiseIndexError();
			h0 = rects->data[i0][(3)- 0];
			nimln(177, "pack.nim");
			nimln(177, "pack.nim");
			nimln(177, "pack.nim");
			TMP409 = addInt((*g).Counter, i0);
			nimln(177, "pack.nim");
			LOC3 = 0;
			LOC3 = (TY149048*) newSeq((&NTI149048), 1);
			memset((void*)LOC4, 0, sizeof(LOC4));
			nimln(177, "pack.nim");
			newrect_149915(x0, y0, w0, h0, NIM_NIL, (&LOC4[0]));
			genericAssign((void*)(&LOC3->data[0]), (void*)(&LOC4[0]), (&NTI149007));
			LOC5 = 0;
			LOC5 = newasset_149044((NI32)(TMP409), g, LOC3);
			result = (TY149663*) incrSeq(&(result)->Sup, sizeof(assetHEX3Aobjecttype149027*));
			asgnRef((void**) (&result->data[result->Sup.len-1]), LOC5);
			nimln(178, "pack.nim");
			i0 = addInt(i0, 1);
		} LA2: ;
	}
	popFrame();
	return result;
}

N_NIMCALL(TY149663*, assetsofrects_150947)(assetgroupHEX3Aobjecttype149022* g, TY150505* rects) {
	TY149663* result;
	NI i0;
	nimfr("assetsOfRects", "pack.nim")
	result = 0;
	nimln(180, "pack.nim");
	i0 = 0;
	nimln(181, "pack.nim");
	result = (TY149663*) newSeq((&NTI149663), 0);
	{
		nimln(182, "pack.nim");
		while (1) {
			NI TMP410;
			NI TMP411;
			NI x0;
			NI TMP412;
			NI TMP413;
			NI y0;
			NI TMP414;
			NI TMP415;
			NI w0;
			NI TMP416;
			NI TMP417;
			NI h0;
			NI TMP418;
			NI TMP419;
			NI TMP420;
			TY149048* LOC3;
			TY150226 LOC4;
			assetHEX3Aobjecttype149027* LOC5;
			nimln(182, "pack.nim");
			nimln(182, "pack.nim");
			nimln(182, "pack.nim");
			TMP410 = mulInt(i0, 4);
			TMP411 = addInt((NI32)(TMP410), 3);
			nimln(182, "pack.nim");
			if (!((NI32)(TMP411) <= rects->Sup.len)) goto LA2;
			nimln(183, "pack.nim");
			nimln(183, "pack.nim");
			nimln(183, "pack.nim");
			TMP412 = mulInt(i0, 4);
			TMP413 = addInt((NI32)(TMP412), 0);
			if ((NU)((NI32)(TMP413)) >= (NU)(rects->Sup.len)) raiseIndexError();
			x0 = rects->data[(NI32)(TMP413)];
			nimln(184, "pack.nim");
			nimln(184, "pack.nim");
			nimln(184, "pack.nim");
			TMP414 = mulInt(i0, 4);
			TMP415 = addInt((NI32)(TMP414), 1);
			if ((NU)((NI32)(TMP415)) >= (NU)(rects->Sup.len)) raiseIndexError();
			y0 = rects->data[(NI32)(TMP415)];
			nimln(185, "pack.nim");
			nimln(185, "pack.nim");
			nimln(185, "pack.nim");
			TMP416 = mulInt(i0, 4);
			TMP417 = addInt((NI32)(TMP416), 2);
			if ((NU)((NI32)(TMP417)) >= (NU)(rects->Sup.len)) raiseIndexError();
			w0 = rects->data[(NI32)(TMP417)];
			nimln(186, "pack.nim");
			nimln(186, "pack.nim");
			nimln(186, "pack.nim");
			TMP418 = mulInt(i0, 4);
			TMP419 = addInt((NI32)(TMP418), 3);
			if ((NU)((NI32)(TMP419)) >= (NU)(rects->Sup.len)) raiseIndexError();
			h0 = rects->data[(NI32)(TMP419)];
			nimln(187, "pack.nim");
			nimln(187, "pack.nim");
			nimln(187, "pack.nim");
			TMP420 = addInt((*g).Counter, i0);
			nimln(187, "pack.nim");
			LOC3 = 0;
			LOC3 = (TY149048*) newSeq((&NTI149048), 1);
			memset((void*)LOC4, 0, sizeof(LOC4));
			nimln(187, "pack.nim");
			newrect_149915(x0, y0, w0, h0, NIM_NIL, (&LOC4[0]));
			genericAssign((void*)(&LOC3->data[0]), (void*)(&LOC4[0]), (&NTI149007));
			LOC5 = 0;
			LOC5 = newasset_149044((NI32)(TMP420), g, LOC3);
			result = (TY149663*) incrSeq(&(result)->Sup, sizeof(assetHEX3Aobjecttype149027*));
			asgnRef((void**) (&result->data[result->Sup.len-1]), LOC5);
			nimln(188, "pack.nim");
			i0 = addInt(i0, 1);
		} LA2: ;
	}
	popFrame();
	return result;
}

N_NIMCALL(TY149663*, assetsofrects_151051)(assetgroupHEX3Aobjecttype149022* g, TY149048* rects) {
	TY149663* result;
	NI i0;
	nimfr("assetsOfRects", "pack.nim")
	result = 0;
	nimln(190, "pack.nim");
	i0 = 0;
	nimln(191, "pack.nim");
	result = (TY149663*) newSeq((&NTI149663), 0);
	{
		nimln(192, "pack.nim");
		while (1) {
			NI TMP421;
			TY149048* LOC3;
			TY150226 LOC4;
			assetHEX3Aobjecttype149027* LOC5;
			nimln(192, "pack.nim");
			nimln(192, "pack.nim");
			if (!(i0 < rects->Sup.len)) goto LA2;
			nimln(193, "pack.nim");
			nimln(193, "pack.nim");
			nimln(193, "pack.nim");
			TMP421 = addInt((*g).Counter, i0);
			nimln(193, "pack.nim");
			LOC3 = 0;
			LOC3 = (TY149048*) newSeq((&NTI149048), 1);
			memset((void*)LOC4, 0, sizeof(LOC4));
			if ((NU)(i0) >= (NU)(rects->Sup.len)) raiseIndexError();
			genericAssign((void*)(&LOC4[0]), (void*)(&rects->data[i0]), (&NTI149007));
			genericAssign((void*)(&LOC3->data[0]), (void*)(&LOC4[0]), (&NTI149007));
			LOC5 = 0;
			LOC5 = newasset_149044((NI32)(TMP421), g, LOC3);
			result = (TY149663*) incrSeq(&(result)->Sup, sizeof(assetHEX3Aobjecttype149027*));
			asgnRef((void**) (&result->data[result->Sup.len-1]), LOC5);
			nimln(194, "pack.nim");
			i0 = addInt(i0, 1);
		} LA2: ;
	}
	popFrame();
	return result;
}

N_NIMCALL(void, minsizeofassets_151152)(TY149663* assets, NI tw, NI th, TY151158* Result) {
	NI tw0;
	NI th0;
	nimfr("minSizeOfAssets", "pack.nim")
	nimln(197, "pack.nim");
	tw0 = tw;
	nimln(197, "pack.nim");
	th0 = th;
	{
		assetHEX3Aobjecttype149027* a_151175;
		NI i_151189;
		NI l_151191;
		a_151175 = 0;
		nimln(2986, "system.nim");
		i_151189 = 0;
		nimln(2987, "system.nim");
		nimln(2987, "system.nim");
		l_151191 = assets->Sup.len;
		{
			nimln(2988, "system.nim");
			while (1) {
				nimln(2988, "system.nim");
				if (!(i_151189 < l_151191)) goto LA3;
				nimln(2989, "system.nim");
				if ((NU)(i_151189) >= (NU)(assets->Sup.len)) raiseIndexError();
				a_151175 = assets->data[i_151189];
				nimln(199, "pack.nim");
				nimln(199, "pack.nim");
				if ((NU)(0) >= (NU)((*a_151175).R->Sup.len)) raiseIndexError();
				tw0 = (((*a_151175).R->data[0].W >= tw0) ? (*a_151175).R->data[0].W : tw0);
				nimln(200, "pack.nim");
				nimln(200, "pack.nim");
				if ((NU)(0) >= (NU)((*a_151175).R->Sup.len)) raiseIndexError();
				th0 = (((*a_151175).R->data[0].W >= th0) ? (*a_151175).R->data[0].W : th0);
				nimln(2990, "system.nim");
				i_151189 = addInt(i_151189, 1);
				nimln(2991, "system.nim");
				{
					nimln(2991, "system.nim");
					nimln(2991, "system.nim");
					nimln(2991, "system.nim");
					if (!!((assets->Sup.len == l_151191))) goto LA6;
					nimln(2991, "system.nim");
					failedassertimpl_86825(((NimStringDesc*) &TMP397));
				}
				LA6: ;
			} LA3: ;
		}
	}
	nimln(201, "pack.nim");
	nimln(201, "pack.nim");
	(*Result)[0] = tw0;
	(*Result)[1] = th0;
	goto BeforeRet;
	BeforeRet: ;
	popFrame();
}

N_NIMCALL(NI, totalareaofassets_151207)(TY149663* assets) {
	NI result;
	NI area;
	nimfr("totalAreaOfAssets", "pack.nim")
	result = 0;
	nimln(203, "pack.nim");
	area = 0;
	{
		assetHEX3Aobjecttype149027* a_151225;
		NI i_151241;
		NI l_151243;
		a_151225 = 0;
		nimln(2986, "system.nim");
		i_151241 = 0;
		nimln(2987, "system.nim");
		nimln(2987, "system.nim");
		l_151243 = assets->Sup.len;
		{
			nimln(2988, "system.nim");
			while (1) {
				NI TMP422;
				nimln(2988, "system.nim");
				if (!(i_151241 < l_151243)) goto LA3;
				nimln(2989, "system.nim");
				if ((NU)(i_151241) >= (NU)(assets->Sup.len)) raiseIndexError();
				a_151225 = assets->data[i_151241];
				nimln(205, "pack.nim");
				nimln(205, "pack.nim");
				if ((NU)(0) >= (NU)((*a_151225).R->Sup.len)) raiseIndexError();
				if ((NU)(0) >= (NU)((*a_151225).R->Sup.len)) raiseIndexError();
				TMP422 = mulInt((*a_151225).R->data[0].W, (*a_151225).R->data[0].H);
				area = addInt(area, (NI32)(TMP422));
				nimln(2990, "system.nim");
				i_151241 = addInt(i_151241, 1);
				nimln(2991, "system.nim");
				{
					nimln(2991, "system.nim");
					nimln(2991, "system.nim");
					nimln(2991, "system.nim");
					if (!!((assets->Sup.len == l_151243))) goto LA6;
					nimln(2991, "system.nim");
					failedassertimpl_86825(((NimStringDesc*) &TMP397));
				}
				LA6: ;
			} LA3: ;
		}
	}
	nimln(206, "pack.nim");
	nimln(206, "pack.nim");
	result = area;
	goto BeforeRet;
	BeforeRet: ;
	popFrame();
	return result;
}

static N_INLINE(assetHEX3Aobjecttype149027*, pop_151323)(TY149663** s_151331) {
	assetHEX3Aobjecttype149027* result;
	NI l;
	NI TMP423;
	nimfr("pop", "system.nim")
	result = 0;
	nimln(1810, "system.nim");
	nimln(1810, "system.nim");
	nimln(1810, "system.nim");
	TMP423 = subInt((*s_151331)->Sup.len, 1);
	l = (NI32)(TMP423);
	nimln(1811, "system.nim");
	if ((NU)(l) >= (NU)((*s_151331)->Sup.len)) raiseIndexError();
	result = (*s_151331)->data[l];
	nimln(1812, "system.nim");
	(*s_151331) = (TY149663*) setLengthSeq(&((*s_151331))->Sup, sizeof(assetHEX3Aobjecttype149027*), l);
	popFrame();
	return result;
}

N_NIMCALL(TY149663*, discardassets_151259)(TY149663** assets, NI minarea) {
	TY149663* result;
	NI area;
	nimfr("discardAssets", "pack.nim")
	result = 0;
	nimln(209, "pack.nim");
	area = totalareaofassets_151207((*assets));
	nimln(210, "pack.nim");
	result = newseq_151270(0);
	nimln(211, "pack.nim");
	{
		nimln(211, "pack.nim");
		if (!(minarea < area)) goto LA3;
		{
			nimln(212, "pack.nim");
			while (1) {
				assetHEX3Aobjecttype149027* ap;
				NI TMP424;
				nimln(212, "pack.nim");
				if (!(minarea < area)) goto LA6;
				nimln(213, "pack.nim");
				ap = pop_151323(assets);
				nimln(214, "pack.nim");
				nimln(214, "pack.nim");
				if ((NU)(0) >= (NU)((*ap).R->Sup.len)) raiseIndexError();
				if ((NU)(0) >= (NU)((*ap).R->Sup.len)) raiseIndexError();
				TMP424 = mulInt((*ap).R->data[0].W, (*ap).R->data[0].H);
				area = subInt(area, (NI32)(TMP424));
				nimln(215, "pack.nim");
				result = (TY149663*) incrSeq(&(result)->Sup, sizeof(assetHEX3Aobjecttype149027*));
				asgnRef((void**) (&result->data[result->Sup.len-1]), ap);
			} LA6: ;
		}
	}
	goto LA1;
	LA3: ;
	{
		assetHEX3Aobjecttype149027* LOC8;
		nimln(217, "pack.nim");
		nimln(217, "pack.nim");
		LOC8 = 0;
		LOC8 = pop_151323(assets);
		result = (TY149663*) incrSeq(&(result)->Sup, sizeof(assetHEX3Aobjecttype149027*));
		asgnRef((void**) (&result->data[result->Sup.len-1]), LOC8);
	}
	LA1: ;
	popFrame();
	return result;
}

N_NIMCALL(void, reduce_151443)(TY149048** r, NI lt, NI tp, NI rt, NI bm) {
	nimfr("reduce", "pack.nim")
	nimln(223, "pack.nim");
	{
		NI TMP425;
		NI TMP426;
		nimln(223, "pack.nim");
		nimln(223, "pack.nim");
		if (!(0 < (*r)->Sup.len)) goto LA3;
		nimln(224, "pack.nim");
		if ((NU)(0) >= (NU)((*r)->Sup.len)) raiseIndexError();
		(*r)->data[0].X = addInt((*r)->data[0].X, lt);
		nimln(224, "pack.nim");
		if ((NU)(0) >= (NU)((*r)->Sup.len)) raiseIndexError();
		(*r)->data[0].Y = addInt((*r)->data[0].Y, tp);
		nimln(224, "pack.nim");
		if ((NU)(0) >= (NU)((*r)->Sup.len)) raiseIndexError();
		nimln(224, "pack.nim");
		TMP425 = addInt(lt, rt);
		(*r)->data[0].W = subInt((*r)->data[0].W, (NI32)(TMP425));
		nimln(224, "pack.nim");
		if ((NU)(0) >= (NU)((*r)->Sup.len)) raiseIndexError();
		nimln(224, "pack.nim");
		TMP426 = addInt(tp, bm);
		(*r)->data[0].H = subInt((*r)->data[0].H, (NI32)(TMP426));
		nimln(225, "pack.nim");
		{
			nimln(225, "pack.nim");
			nimln(225, "pack.nim");
			if (!(1 < (*r)->Sup.len)) goto LA7;
			{
				NI i0_151534;
				NI HEX3Atmp_151560;
				NI res_151563;
				i0_151534 = 0;
				HEX3Atmp_151560 = 0;
				nimln(226, "pack.nim");
				nimln(226, "pack.nim");
				HEX3Atmp_151560 = ((*r)->Sup.len-1);
				nimln(1576, "system.nim");
				res_151563 = 1;
				{
					nimln(1577, "system.nim");
					while (1) {
						nimln(1577, "system.nim");
						if (!(res_151563 <= HEX3Atmp_151560)) goto LA11;
						nimln(1576, "system.nim");
						i0_151534 = res_151563;
						nimln(227, "pack.nim");
						if ((NU)(i0_151534) >= (NU)((*r)->Sup.len)) raiseIndexError();
						(*r)->data[i0_151534].X = subInt((*r)->data[i0_151534].X, lt);
						nimln(227, "pack.nim");
						if ((NU)(i0_151534) >= (NU)((*r)->Sup.len)) raiseIndexError();
						(*r)->data[i0_151534].Y = subInt((*r)->data[i0_151534].Y, tp);
						nimln(1579, "system.nim");
						res_151563 = addInt(res_151563, 1);
					} LA11: ;
				}
			}
		}
		LA7: ;
	}
	LA3: ;
	popFrame();
}

N_NIMCALL(void, reduce_151580)(TY149048** r, cropresultHEX3Aobjecttype149033* cropr) {
	nimfr("reduce", "pack.nim")
	nimln(229, "pack.nim");
	reduce_151443(r, (*cropr).Left, (*cropr).Top, (*cropr).Right, (*cropr).Bottom);
	popFrame();
}

N_NIMCALL(TY149048*, fitsintilesize_151592)(TY149048* rects, NI w0, NI h0) {
	TY149048* result;
	nimfr("fitsInTileSize", "pack.nim")
	result = 0;
	nimln(232, "pack.nim");
	result = (TY149048*) newSeq((&NTI149048), 0);
	{
		rect149007 r0_151632;
		NI i_151656;
		NI l_151658;
		memset((void*)(&r0_151632), 0, sizeof(r0_151632));
		nimln(2986, "system.nim");
		i_151656 = 0;
		nimln(2987, "system.nim");
		nimln(2987, "system.nim");
		l_151658 = rects->Sup.len;
		{
			nimln(2988, "system.nim");
			while (1) {
				nimln(2988, "system.nim");
				if (!(i_151656 < l_151658)) goto LA3;
				nimln(2989, "system.nim");
				if ((NU)(i_151656) >= (NU)(rects->Sup.len)) raiseIndexError();
				memcpy((void*)(&r0_151632), (NIM_CONST void*)(&rects->data[i_151656]), sizeof(r0_151632));
				nimln(234, "pack.nim");
				{
					NIM_BOOL LOC6;
					nimln(234, "pack.nim");
					LOC6 = 0;
					nimln(234, "pack.nim");
					LOC6 = (w0 < r0_151632.W);
					if (LOC6) goto LA7;
					nimln(234, "pack.nim");
					LOC6 = (h0 < r0_151632.H);
					LA7: ;
					if (!LOC6) goto LA8;
					nimln(235, "pack.nim");
					result = (TY149048*) incrSeq(&(result)->Sup, sizeof(rect149007));
					genericAssign((void*)(&result->data[result->Sup.len-1]), (void*)(&r0_151632), (&NTI149007));
				}
				LA8: ;
				nimln(2990, "system.nim");
				i_151656 = addInt(i_151656, 1);
				nimln(2991, "system.nim");
				{
					nimln(2991, "system.nim");
					nimln(2991, "system.nim");
					nimln(2991, "system.nim");
					if (!!((rects->Sup.len == l_151658))) goto LA12;
					nimln(2991, "system.nim");
					failedassertimpl_86825(((NimStringDesc*) &TMP397));
				}
				LA12: ;
			} LA3: ;
		}
	}
	popFrame();
	return result;
}

N_NIMCALL(TY149663*, fitsintilesize_151674)(TY149663* assets, NI w0, NI h0) {
	TY149663* result;
	nimfr("fitsInTileSize", "pack.nim")
	result = 0;
	nimln(237, "pack.nim");
	result = (TY149663*) newSeq((&NTI149663), 0);
	{
		assetHEX3Aobjecttype149027* a0_151714;
		NI i_151738;
		NI l_151740;
		a0_151714 = 0;
		nimln(2986, "system.nim");
		i_151738 = 0;
		nimln(2987, "system.nim");
		nimln(2987, "system.nim");
		l_151740 = assets->Sup.len;
		{
			nimln(2988, "system.nim");
			while (1) {
				nimln(2988, "system.nim");
				if (!(i_151738 < l_151740)) goto LA3;
				nimln(2989, "system.nim");
				if ((NU)(i_151738) >= (NU)(assets->Sup.len)) raiseIndexError();
				a0_151714 = assets->data[i_151738];
				nimln(239, "pack.nim");
				{
					NIM_BOOL LOC6;
					nimln(239, "pack.nim");
					LOC6 = 0;
					nimln(239, "pack.nim");
					if ((NU)(0) >= (NU)((*a0_151714).R->Sup.len)) raiseIndexError();
					LOC6 = (w0 < (*a0_151714).R->data[0].W);
					if (LOC6) goto LA7;
					nimln(239, "pack.nim");
					if ((NU)(0) >= (NU)((*a0_151714).R->Sup.len)) raiseIndexError();
					LOC6 = (h0 < (*a0_151714).R->data[0].H);
					LA7: ;
					if (!LOC6) goto LA8;
					nimln(240, "pack.nim");
					result = (TY149663*) incrSeq(&(result)->Sup, sizeof(assetHEX3Aobjecttype149027*));
					asgnRef((void**) (&result->data[result->Sup.len-1]), a0_151714);
				}
				LA8: ;
				nimln(2990, "system.nim");
				i_151738 = addInt(i_151738, 1);
				nimln(2991, "system.nim");
				{
					nimln(2991, "system.nim");
					nimln(2991, "system.nim");
					nimln(2991, "system.nim");
					if (!!((assets->Sup.len == l_151740))) goto LA12;
					nimln(2991, "system.nim");
					failedassertimpl_86825(((NimStringDesc*) &TMP397));
				}
				LA12: ;
			} LA3: ;
		}
	}
	popFrame();
	return result;
}

N_NIMCALL(TY149663*, packtorectstl_151756)(assetgroupHEX3Aobjecttype149022* g, TY149663* assets, TY149048* rects) {
	TY149663* result;
	nimfr("packToRectsTL", "pack.nim")
	result = 0;
	nimln(245, "pack.nim");
	result = (TY149663*) newSeq((&NTI149663), 0);
	{
		NI i0_151795;
		NI HEX3Atmp_151816;
		NI res_151819;
		i0_151795 = 0;
		HEX3Atmp_151816 = 0;
		nimln(246, "pack.nim");
		nimln(246, "pack.nim");
		HEX3Atmp_151816 = (assets->Sup.len-1);
		nimln(1576, "system.nim");
		res_151819 = 0;
		{
			nimln(1577, "system.nim");
			while (1) {
				assetHEX3Aobjecttype149027* a;
				nimln(1577, "system.nim");
				if (!(res_151819 <= HEX3Atmp_151816)) goto LA3;
				nimln(1576, "system.nim");
				i0_151795 = res_151819;
				nimln(247, "pack.nim");
				if ((NU)(i0_151795) >= (NU)(assets->Sup.len)) raiseIndexError();
				a = copy_149074(assets->data[i0_151795]);
				nimln(248, "pack.nim");
				if ((NU)(0) >= (NU)((*a).R->Sup.len)) raiseIndexError();
				if ((NU)(i0_151795) >= (NU)(rects->Sup.len)) raiseIndexError();
				(*a).R->data[0].X = rects->data[i0_151795].X;
				nimln(249, "pack.nim");
				if ((NU)(0) >= (NU)((*a).R->Sup.len)) raiseIndexError();
				if ((NU)(i0_151795) >= (NU)(rects->Sup.len)) raiseIndexError();
				(*a).R->data[0].Y = rects->data[i0_151795].Y;
				nimln(250, "pack.nim");
				result = (TY149663*) incrSeq(&(result)->Sup, sizeof(assetHEX3Aobjecttype149027*));
				asgnRef((void**) (&result->data[result->Sup.len-1]), a);
				nimln(1579, "system.nim");
				res_151819 = addInt(res_151819, 1);
			} LA3: ;
		}
	}
	popFrame();
	return result;
}

static N_INLINE(NF, HEX2F_86004)(NI x, NI y) {
	NF result;
	nimfr("/", "system.nim")
	result = 0;
	nimln(2749, "system.nim");
	nimln(2749, "system.nim");
	nimln(2749, "system.nim");
	nimln(2749, "system.nim");
	result = ((NF)(((double) (x))) / (NF)(((double) (y))));
	popFrame();
	return result;
}

N_NIMCALL(TY149663*, packtorectsc_151836)(assetgroupHEX3Aobjecttype149022* g, TY149663* assets, TY149048* rects) {
	TY149663* result;
	nimfr("packToRectsC", "pack.nim")
	result = 0;
	nimln(254, "pack.nim");
	result = (TY149663*) newSeq((&NTI149663), 0);
	{
		NI i0_151875;
		NI HEX3Atmp_151900;
		NI res_151903;
		i0_151875 = 0;
		HEX3Atmp_151900 = 0;
		nimln(255, "pack.nim");
		nimln(255, "pack.nim");
		HEX3Atmp_151900 = (assets->Sup.len-1);
		nimln(1576, "system.nim");
		res_151903 = 0;
		{
			nimln(1577, "system.nim");
			while (1) {
				assetHEX3Aobjecttype149027* a;
				NF LOC4;
				NI TMP427;
				NF LOC5;
				NI TMP428;
				NF LOC6;
				NI TMP429;
				NF LOC7;
				NI TMP430;
				nimln(1577, "system.nim");
				if (!(res_151903 <= HEX3Atmp_151900)) goto LA3;
				nimln(1576, "system.nim");
				i0_151875 = res_151903;
				nimln(256, "pack.nim");
				if ((NU)(i0_151875) >= (NU)(assets->Sup.len)) raiseIndexError();
				a = copy_149074(assets->data[i0_151875]);
				nimln(257, "pack.nim");
				if ((NU)(0) >= (NU)((*a).R->Sup.len)) raiseIndexError();
				nimln(257, "pack.nim");
				nimln(257, "pack.nim");
				if ((NU)(i0_151875) >= (NU)(rects->Sup.len)) raiseIndexError();
				nimln(257, "pack.nim");
				if ((NU)(i0_151875) >= (NU)(rects->Sup.len)) raiseIndexError();
				LOC4 = 0;
				LOC4 = HEX2F_86004(rects->data[i0_151875].W, 2);
				TMP427 = addInt(rects->data[i0_151875].X, ((NI) (LOC4)));
				nimln(257, "pack.nim");
				if ((NU)(0) >= (NU)((*a).R->Sup.len)) raiseIndexError();
				LOC5 = 0;
				LOC5 = HEX2F_86004((*a).R->data[0].W, 2);
				TMP428 = subInt((NI32)(TMP427), ((NI) (LOC5)));
				(*a).R->data[0].X = (NI32)(TMP428);
				nimln(258, "pack.nim");
				if ((NU)(0) >= (NU)((*a).R->Sup.len)) raiseIndexError();
				nimln(258, "pack.nim");
				nimln(258, "pack.nim");
				if ((NU)(i0_151875) >= (NU)(rects->Sup.len)) raiseIndexError();
				nimln(258, "pack.nim");
				if ((NU)(i0_151875) >= (NU)(rects->Sup.len)) raiseIndexError();
				LOC6 = 0;
				LOC6 = HEX2F_86004(rects->data[i0_151875].H, 2);
				TMP429 = addInt(rects->data[i0_151875].Y, ((NI) (LOC6)));
				nimln(258, "pack.nim");
				if ((NU)(0) >= (NU)((*a).R->Sup.len)) raiseIndexError();
				LOC7 = 0;
				LOC7 = HEX2F_86004((*a).R->data[0].H, 2);
				TMP430 = subInt((NI32)(TMP429), ((NI) (LOC7)));
				(*a).R->data[0].Y = (NI32)(TMP430);
				nimln(259, "pack.nim");
				result = (TY149663*) incrSeq(&(result)->Sup, sizeof(assetHEX3Aobjecttype149027*));
				asgnRef((void**) (&result->data[result->Sup.len-1]), a);
				nimln(1579, "system.nim");
				res_151903 = addInt(res_151903, 1);
			} LA3: ;
		}
	}
	popFrame();
	return result;
}

N_NIMCALL(TY149663*, packtorectsgrowc_151920)(assetgroupHEX3Aobjecttype149022* g, TY149663* assets, TY149048* rects) {
	TY149663* result;
	nimfr("packToRectsGrowC", "pack.nim")
	result = 0;
	nimln(264, "pack.nim");
	result = (TY149663*) newSeq((&NTI149663), 0);
	{
		NI i0_151959;
		NI HEX3Atmp_151990;
		NI res_151993;
		i0_151959 = 0;
		HEX3Atmp_151990 = 0;
		nimln(265, "pack.nim");
		nimln(265, "pack.nim");
		HEX3Atmp_151990 = (assets->Sup.len-1);
		nimln(1576, "system.nim");
		res_151993 = 0;
		{
			nimln(1577, "system.nim");
			while (1) {
				assetHEX3Aobjecttype149027* a;
				rect149007 r0;
				NF LOC4;
				NI TMP431;
				NF LOC5;
				NI TMP432;
				NF LOC6;
				NI TMP433;
				NF LOC7;
				NI TMP434;
				NI lt;
				NI TMP435;
				NI tp;
				NI TMP436;
				NI rt;
				NI TMP437;
				NI TMP438;
				NI TMP439;
				NI bm;
				NI TMP440;
				NI TMP441;
				NI TMP442;
				nimln(1577, "system.nim");
				if (!(res_151993 <= HEX3Atmp_151990)) goto LA3;
				nimln(1576, "system.nim");
				i0_151959 = res_151993;
				nimln(266, "pack.nim");
				if ((NU)(i0_151959) >= (NU)(assets->Sup.len)) raiseIndexError();
				a = copy_149074(assets->data[i0_151959]);
				memset((void*)(&r0), 0, sizeof(r0));
				nimln(267, "pack.nim");
				if ((NU)(i0_151959) >= (NU)(rects->Sup.len)) raiseIndexError();
				memcpy((void*)(&r0), (NIM_CONST void*)(&rects->data[i0_151959]), sizeof(r0));
				nimln(268, "pack.nim");
				if ((NU)(0) >= (NU)((*a).R->Sup.len)) raiseIndexError();
				nimln(268, "pack.nim");
				nimln(268, "pack.nim");
				nimln(268, "pack.nim");
				LOC4 = 0;
				LOC4 = HEX2F_86004(r0.W, 2);
				TMP431 = addInt(r0.X, ((NI) (LOC4)));
				nimln(268, "pack.nim");
				if ((NU)(0) >= (NU)((*a).R->Sup.len)) raiseIndexError();
				LOC5 = 0;
				LOC5 = HEX2F_86004((*a).R->data[0].W, 2);
				TMP432 = subInt((NI32)(TMP431), ((NI) (LOC5)));
				(*a).R->data[0].X = (NI32)(TMP432);
				nimln(269, "pack.nim");
				if ((NU)(0) >= (NU)((*a).R->Sup.len)) raiseIndexError();
				nimln(269, "pack.nim");
				nimln(269, "pack.nim");
				nimln(269, "pack.nim");
				LOC6 = 0;
				LOC6 = HEX2F_86004(r0.H, 2);
				TMP433 = addInt(r0.Y, ((NI) (LOC6)));
				nimln(269, "pack.nim");
				if ((NU)(0) >= (NU)((*a).R->Sup.len)) raiseIndexError();
				LOC7 = 0;
				LOC7 = HEX2F_86004((*a).R->data[0].H, 2);
				TMP434 = subInt((NI32)(TMP433), ((NI) (LOC7)));
				(*a).R->data[0].Y = (NI32)(TMP434);
				nimln(270, "pack.nim");
				a = copy_149074(a);
				nimln(271, "pack.nim");
				nimln(271, "pack.nim");
				if ((NU)(0) >= (NU)((*a).R->Sup.len)) raiseIndexError();
				TMP435 = subInt(r0.X, (*a).R->data[0].X);
				lt = (NI32)(TMP435);
				nimln(272, "pack.nim");
				nimln(272, "pack.nim");
				if ((NU)(0) >= (NU)((*a).R->Sup.len)) raiseIndexError();
				TMP436 = subInt(r0.Y, (*a).R->data[0].Y);
				tp = (NI32)(TMP436);
				nimln(273, "pack.nim");
				nimln(273, "pack.nim");
				nimln(273, "pack.nim");
				if ((NU)(0) >= (NU)((*a).R->Sup.len)) raiseIndexError();
				if ((NU)(0) >= (NU)((*a).R->Sup.len)) raiseIndexError();
				TMP437 = addInt((*a).R->data[0].X, (*a).R->data[0].W);
				nimln(273, "pack.nim");
				TMP438 = addInt(r0.X, r0.W);
				TMP439 = subInt((NI32)(TMP437), (NI32)(TMP438));
				rt = (NI32)(TMP439);
				nimln(274, "pack.nim");
				nimln(274, "pack.nim");
				nimln(274, "pack.nim");
				if ((NU)(0) >= (NU)((*a).R->Sup.len)) raiseIndexError();
				if ((NU)(0) >= (NU)((*a).R->Sup.len)) raiseIndexError();
				TMP440 = addInt((*a).R->data[0].Y, (*a).R->data[0].H);
				nimln(274, "pack.nim");
				TMP441 = addInt(r0.Y, r0.H);
				TMP442 = subInt((NI32)(TMP440), (NI32)(TMP441));
				bm = (NI32)(TMP442);
				nimln(275, "pack.nim");
				reduce_151443((&(*a).R), lt, tp, rt, bm);
				nimln(276, "pack.nim");
				result = (TY149663*) incrSeq(&(result)->Sup, sizeof(assetHEX3Aobjecttype149027*));
				asgnRef((void**) (&result->data[result->Sup.len-1]), a);
				nimln(1579, "system.nim");
				res_151993 = addInt(res_151993, 1);
			} LA3: ;
		}
	}
	popFrame();
	return result;
}
N_NIMCALL(void, TMP456)(void* p, NI op) {
	TY150505* a;
	NI LOC1;
	a = (TY150505*)p;
	LOC1 = 0;
	for (LOC1 = 0; LOC1 < a->Sup.len; LOC1++) {
	}
}
N_NIMCALL(void, TMP477)(void* p, NI op) {
	packmanifestHEX3Aobjecttype152056* a;
	a = (packmanifestHEX3Aobjecttype152056*)p;
	nimGCvisit((void*)(*a).Pack, op);
	nimGCvisit((void*)(*a).Remainder, op);
}

N_NIMCALL(NI, whsorter_152144)(assetHEX3Aobjecttype149027* a, assetHEX3Aobjecttype149027* b) {
	NI result;
	NI TMP478;
	NI TMP479;
	nimfr("whsorter", "pack.nim")
	result = 0;
	nimln(303, "pack.nim");
	nimln(303, "pack.nim");
	if ((NU)(0) >= (NU)((*a).R->Sup.len)) raiseIndexError();
	if ((NU)(0) >= (NU)((*a).R->Sup.len)) raiseIndexError();
	TMP478 = mulInt((*a).R->data[0].W, (*a).R->data[0].H);
	nimln(303, "pack.nim");
	if ((NU)(0) >= (NU)((*b).R->Sup.len)) raiseIndexError();
	if ((NU)(0) >= (NU)((*b).R->Sup.len)) raiseIndexError();
	TMP479 = mulInt((*b).R->data[0].W, (*b).R->data[0].H);
	result = cmp_152150((NI32)(TMP478), (NI32)(TMP479));
	nimln(304, "pack.nim");
	{
		nimln(304, "pack.nim");
		if (!(result == 0)) goto LA3;
		nimln(305, "pack.nim");
		if ((NU)(0) >= (NU)((*a).R->Sup.len)) raiseIndexError();
		if ((NU)(0) >= (NU)((*b).R->Sup.len)) raiseIndexError();
		result = cmp_152150((*a).R->data[0].H, (*b).R->data[0].H);
	}
	LA3: ;
	popFrame();
	return result;
}

static N_INLINE(NI, modInt)(NI a, NI b) {
	NI result;
	result = 0;
	{
		if (!(b == 0)) goto LA3;
		raiseDivByZero();
	}
	LA3: ;
	result = (NI32)(a % b);
	goto BeforeRet;
	BeforeRet: ;
	return result;
}

static N_INLINE(slice86066, HEX2EHEX2E_92098)(NI a_92102, NI b_92104) {
	slice86066 result;
	nimfr("..", "system.nim")
	memset((void*)(&result), 0, sizeof(result));
	nimln(226, "system.nim");
	result.A = a_92102;
	nimln(227, "system.nim");
	result.B = b_92104;
	popFrame();
	return result;
}

N_NIMCALL(packmanifestHEX3Aobjecttype152056*, packscanline_152065)(assetgroupHEX3Aobjecttype149022* g, TY149663* assets, NI skipstride, NIM_BOOL speedy, NIM_BOOL sort) {
	packmanifestHEX3Aobjecttype152056* result;
	TY149663* pack;
	NI bw;
	NI bh;
	NI vstride;
	TY153691* bitmap;
	NI TMP481;
	NI TMP482;
	TY153691* clearzone;
	NI TMP483;
	TY153691* fillzone;
	NI frontierx;
	NI frontiery;
	TY150505* skips;
	NI i0_153832;
	nimfr("packScanline", "pack.nim")
	result = 0;
	nimln(297, "pack.nim");
	result = (packmanifestHEX3Aobjecttype152056*) newObj((&NTI152054), sizeof(packmanifestHEX3Aobjecttype152056));
	nimln(298, "pack.nim");
	nimln(298, "pack.nim");
	pack = newseq_151270(assets->Sup.len);
	{
		NI i0_152143;
		NI HEX3Atmp_154640;
		NI res_154643;
		i0_152143 = 0;
		HEX3Atmp_154640 = 0;
		nimln(299, "pack.nim");
		nimln(299, "pack.nim");
		HEX3Atmp_154640 = (assets->Sup.len-1);
		nimln(1576, "system.nim");
		res_154643 = 0;
		{
			nimln(1577, "system.nim");
			while (1) {
				nimln(1577, "system.nim");
				if (!(res_154643 <= HEX3Atmp_154640)) goto LA3;
				nimln(1576, "system.nim");
				i0_152143 = res_154643;
				nimln(300, "pack.nim");
				if ((NU)(i0_152143) >= (NU)(pack->Sup.len)) raiseIndexError();
				if ((NU)(i0_152143) >= (NU)(assets->Sup.len)) raiseIndexError();
				asgnRef((void**) (&pack->data[i0_152143]), copy_149074(assets->data[i0_152143]));
				nimln(1579, "system.nim");
				res_154643 = addInt(res_154643, 1);
			} LA3: ;
		}
	}
	nimln(306, "pack.nim");
	{
		TY152199 LOC8;
		if (!sort) goto LA6;
		nimln(307, "pack.nim");
		memset((void*)(&LOC8), 0, sizeof(LOC8));
		LOC8.ClPrc = ((TMP480) (whsorter_152144)); LOC8.ClEnv = NIM_NIL;
		sort_152180(pack->data, pack->Sup.len, LOC8, ((NU8) 0));
	}
	LA6: ;
	nimln(309, "pack.nim");
	bw = (*g).Rect.W;
	nimln(310, "pack.nim");
	bh = (*g).Rect.H;
	nimln(312, "pack.nim");
	if ((NU)(0) >= (NU)(pack->Sup.len)) raiseIndexError();
	if ((NU)(0) >= (NU)((*pack->data[0]).R->Sup.len)) raiseIndexError();
	vstride = (*pack->data[0]).R->data[0].H;
	nimln(330, "pack.nim");
	nimln(330, "pack.nim");
	nimln(330, "pack.nim");
	TMP481 = mulInt(bw, bh);
	TMP482 = addInt((NI32)(TMP481), 1);
	bitmap = newseq_153686((NI32)(TMP482));
	nimln(331, "pack.nim");
	nimln(331, "pack.nim");
	TMP483 = addInt(bw, 1);
	clearzone = newseq_153686((NI32)(TMP483));
	nimln(332, "pack.nim");
	genericSeqAssign((&fillzone), clearzone, (&NTI153691));
	{
		NI i0_153778;
		NI HEX3Atmp_154646;
		NI res_154649;
		i0_153778 = 0;
		HEX3Atmp_154646 = 0;
		nimln(333, "pack.nim");
		nimln(333, "pack.nim");
		HEX3Atmp_154646 = (fillzone->Sup.len-1);
		nimln(1576, "system.nim");
		res_154649 = 0;
		{
			nimln(1577, "system.nim");
			while (1) {
				nimln(1577, "system.nim");
				if (!(res_154649 <= HEX3Atmp_154646)) goto LA11;
				nimln(1576, "system.nim");
				i0_153778 = res_154649;
				nimln(334, "pack.nim");
				if ((NU)(i0_153778) >= (NU)(fillzone->Sup.len)) raiseIndexError();
				fillzone->data[i0_153778] = ((NI8) 1);
				nimln(1579, "system.nim");
				res_154649 = addInt(res_154649, 1);
			} LA11: ;
		}
	}
	nimln(335, "pack.nim");
	frontierx = 0;
	nimln(336, "pack.nim");
	frontiery = 0;
	nimln(337, "pack.nim");
	skips = newseq_153783(bh);
	nimln(338, "pack.nim");
	i0_153832 = 0;
	{
		nimln(339, "pack.nim");
		while (1) {
			NI TMP484;
			nimln(339, "pack.nim");
			if (!(i0_153832 < bh)) goto LA13;
			nimln(340, "pack.nim");
			if ((NU)(i0_153832) >= (NU)(skips->Sup.len)) raiseIndexError();
			nimln(340, "pack.nim");
			TMP484 = mulInt(i0_153832, bw);
			skips->data[i0_153832] = (NI32)(TMP484);
			nimln(341, "pack.nim");
			i0_153832 = addInt(i0_153832, skipstride);
		} LA13: ;
	}
	{
		NI r0_153856;
		NI HEX3Atmp_154674;
		NI res_154677;
		r0_153856 = 0;
		HEX3Atmp_154674 = 0;
		nimln(342, "pack.nim");
		nimln(342, "pack.nim");
		HEX3Atmp_154674 = (pack->Sup.len-1);
		nimln(1576, "system.nim");
		res_154677 = 0;
		{
			nimln(1577, "system.nim");
			while (1) {
				TY150505* nextskips;
				NI x1;
				NI y1;
				NI cw;
				NI ch;
				NI s0;
				NI TMP510;
				NI TMP511;
				NI y2;
				nimln(1577, "system.nim");
				if (!(res_154677 <= HEX3Atmp_154674)) goto LA16;
				nimln(1576, "system.nim");
				r0_153856 = res_154677;
				nimln(343, "pack.nim");
				nextskips = (TY150505*) newSeq((&NTI150505), 0);
				nimln(344, "pack.nim");
				x1 = 0;
				nimln(345, "pack.nim");
				y1 = 0;
				nimln(346, "pack.nim");
				if ((NU)(r0_153856) >= (NU)(pack->Sup.len)) raiseIndexError();
				if ((NU)(0) >= (NU)((*pack->data[r0_153856]).R->Sup.len)) raiseIndexError();
				cw = (*pack->data[r0_153856]).R->data[0].W;
				nimln(347, "pack.nim");
				if ((NU)(r0_153856) >= (NU)(pack->Sup.len)) raiseIndexError();
				if ((NU)(0) >= (NU)((*pack->data[r0_153856]).R->Sup.len)) raiseIndexError();
				ch = (*pack->data[r0_153856]).R->data[0].H;
				nimln(349, "pack.nim");
				s0 = 0;
				{
					slice86066 LOC62;
					nimln(351, "pack.nim");
					{
						NIM_BOOL LOC20;
						nimln(351, "pack.nim");
						LOC20 = 0;
						nimln(351, "pack.nim");
						LOC20 = (cw == 0);
						if (LOC20) goto LA21;
						nimln(351, "pack.nim");
						LOC20 = (ch == 0);
						LA21: ;
						if (!LOC20) goto LA22;
						nimln(352, "pack.nim");
						goto LA17;
					}
					LA22: ;
					{
						nimln(353, "pack.nim");
						while (1) {
							NI TMP485;
							NF LOC26;
							nimln(353, "pack.nim");
							nimln(353, "pack.nim");
							if (!(s0 < skips->Sup.len)) goto LA25;
							nimln(354, "pack.nim");
							nimln(354, "pack.nim");
							if ((NU)(s0) >= (NU)(skips->Sup.len)) raiseIndexError();
							TMP485 = modInt(skips->data[s0], bw);
							x1 = (NI32)(TMP485);
							nimln(355, "pack.nim");
							nimln(355, "pack.nim");
							if ((NU)(s0) >= (NU)(skips->Sup.len)) raiseIndexError();
							LOC26 = 0;
							LOC26 = HEX2F_86004(skips->data[s0], bw);
							y1 = ((NI) (LOC26));
							nimln(357, "pack.nim");
							{
								NIM_BOOL LOC29;
								NI TMP486;
								NI TMP487;
								nimln(357, "pack.nim");
								LOC29 = 0;
								nimln(357, "pack.nim");
								nimln(357, "pack.nim");
								nimln(357, "pack.nim");
								nimln(357, "pack.nim");
								TMP486 = addInt(x1, subInt(cw, 1));
								LOC29 = (subInt(bw, 1) < (NI32)(TMP486));
								if (LOC29) goto LA30;
								nimln(357, "pack.nim");
								nimln(357, "pack.nim");
								nimln(357, "pack.nim");
								nimln(357, "pack.nim");
								TMP487 = addInt(y1, subInt(ch, 1));
								LOC29 = (subInt(bh, 1) < (NI32)(TMP487));
								LA30: ;
								if (!LOC29) goto LA31;
								nimln(358, "pack.nim");
								s0 = addInt(s0, 1);
							}
							goto LA27;
							LA31: ;
							{
								{
									NI right;
									NI bottom;
									NI p1;
									NI TMP496;
									NI p2;
									NI TMP497;
									NIM_BOOL ex0;
									NI TMP498;
									NI TMP499;
									NI TMP500;
									NIM_BOOL ex1;
									NI TMP501;
									NI TMP502;
									NI TMP503;
									NIM_BOOL chk;
									NIM_BOOL LOC49;
									NI yib;
									NI TMP504;
									NF LOC51;
									nimln(364, "pack.nim");
									nimln(364, "pack.nim");
									{
										nimln(364, "pack.nim");
										nimln(364, "pack.nim");
										if (!(frontierx <= subInt(x1, 1))) goto LA37;
										nimln(364, "pack.nim");
										right = ((x1 >= frontierx) ? x1 : frontierx);
									}
									goto LA35;
									LA37: ;
									{
										NI TMP488;
										nimln(364, "pack.nim");
										nimln(364, "pack.nim");
										TMP488 = addInt(subInt(x1, 1), cw);
										right = (NI32)(TMP488);
									}
									LA35: ;
									nimln(365, "pack.nim");
									nimln(365, "pack.nim");
									{
										nimln(365, "pack.nim");
										nimln(365, "pack.nim");
										if (!(frontiery <= subInt(y1, 1))) goto LA42;
										nimln(365, "pack.nim");
										bottom = ((y1 >= frontiery) ? y1 : frontiery);
									}
									goto LA40;
									LA42: ;
									{
										NI TMP489;
										nimln(365, "pack.nim");
										nimln(365, "pack.nim");
										TMP489 = addInt(subInt(y1, 1), ch);
										bottom = (NI32)(TMP489);
									}
									LA40: ;
									nimln(366, "pack.nim");
									{
										NI TMP490;
										NI TMP491;
										NI TMP492;
										NI TMP493;
										NI TMP494;
										NI TMP495;
										nimln(368, "pack.nim");
										nimln(368, "pack.nim");
										nimln(367, "pack.nim");
										nimln(366, "pack.nim");
										nimln(366, "pack.nim");
										nimln(366, "pack.nim");
										TMP490 = mulInt(y1, bw);
										TMP491 = addInt(right, (NI32)(TMP490));
										if ((NU)((NI32)(TMP491)) >= (NU)(bitmap->Sup.len)) raiseIndexError();
										nimln(367, "pack.nim");
										nimln(367, "pack.nim");
										TMP492 = mulInt(bottom, bw);
										TMP493 = addInt(x1, (NI32)(TMP492));
										if ((NU)((NI32)(TMP493)) >= (NU)(bitmap->Sup.len)) raiseIndexError();
										nimln(368, "pack.nim");
										nimln(368, "pack.nim");
										TMP494 = mulInt(bottom, bw);
										TMP495 = addInt(right, (NI32)(TMP494));
										if ((NU)((NI32)(TMP495)) >= (NU)(bitmap->Sup.len)) raiseIndexError();
										if (!!(((NI8)((NI8)(bitmap->data[(NI32)(TMP491)] | bitmap->data[(NI32)(TMP493)]) | bitmap->data[(NI32)(TMP495)]) == ((NI8) 0)))) goto LA47;
										nimln(369, "pack.nim");
										s0 = addInt(s0, 1);
										nimln(370, "pack.nim");
										goto LA34;
									}
									LA47: ;
									nimln(372, "pack.nim");
									nimln(372, "pack.nim");
									TMP496 = mulInt(y1, bw);
									p1 = (NI32)(TMP496);
									nimln(373, "pack.nim");
									nimln(373, "pack.nim");
									TMP497 = mulInt(bottom, bw);
									p2 = (NI32)(TMP497);
									nimln(376, "pack.nim");
									nimln(376, "pack.nim");
									TMP498 = addInt(x1, p1);
									if ((NU)((NI32)(TMP498)) >= (NU)(bitmap->Sup.len)) raiseIndexError();
									if ((NU)(0) >= (NU)(clearzone->Sup.len)) raiseIndexError();
									nimln(376, "pack.nim");
									nimln(376, "pack.nim");
									TMP499 = subInt(right, x1);
									TMP500 = mulInt((NI32)(TMP499), 1);
									ex0 = equalMem(((void*) ((&bitmap->data[(NI32)(TMP498)]))), ((void*) ((&clearzone->data[0]))), (NI32)(TMP500));
									nimln(378, "pack.nim");
									nimln(378, "pack.nim");
									TMP501 = addInt(x1, p2);
									if ((NU)((NI32)(TMP501)) >= (NU)(bitmap->Sup.len)) raiseIndexError();
									if ((NU)(0) >= (NU)(clearzone->Sup.len)) raiseIndexError();
									nimln(378, "pack.nim");
									nimln(378, "pack.nim");
									TMP502 = subInt(right, x1);
									TMP503 = mulInt((NI32)(TMP502), 1);
									ex1 = equalMem(((void*) ((&bitmap->data[(NI32)(TMP501)]))), ((void*) ((&clearzone->data[0]))), (NI32)(TMP503));
									nimln(379, "pack.nim");
									nimln(379, "pack.nim");
									LOC49 = 0;
									LOC49 = ex0;
									if (!(LOC49)) goto LA50;
									LOC49 = ex1;
									LA50: ;
									chk = LOC49;
									nimln(381, "pack.nim");
									nimln(381, "pack.nim");
									nimln(381, "pack.nim");
									TMP504 = subInt(bottom, y1);
									LOC51 = 0;
									LOC51 = HEX2F_86004((NI32)(TMP504), vstride);
									yib = ((NI) (LOC51));
									{
										NI y2_154042;
										NI res_154663;
										y2_154042 = 0;
										nimln(1576, "system.nim");
										res_154663 = 0;
										{
											nimln(1577, "system.nim");
											while (1) {
												NI incr;
												NI TMP505;
												NI TMP506;
												NI TMP507;
												NIM_BOOL LOC55;
												NI TMP508;
												NI TMP509;
												nimln(1577, "system.nim");
												if (!(res_154663 <= yib)) goto LA54;
												nimln(1576, "system.nim");
												y2_154042 = res_154663;
												nimln(383, "pack.nim");
												nimln(383, "pack.nim");
												nimln(383, "pack.nim");
												nimln(383, "pack.nim");
												TMP505 = mulInt(y2_154042, vstride);
												TMP506 = addInt(y1, (NI32)(TMP505));
												TMP507 = mulInt((NI32)(TMP506), bw);
												incr = (NI32)(TMP507);
												nimln(384, "pack.nim");
												nimln(384, "pack.nim");
												LOC55 = 0;
												LOC55 = chk;
												if (!(LOC55)) goto LA56;
												nimln(384, "pack.nim");
												nimln(384, "pack.nim");
												nimln(384, "pack.nim");
												TMP508 = addInt(x1, incr);
												if ((NU)((NI32)(TMP508)) >= (NU)(bitmap->Sup.len)) raiseIndexError();
												nimln(384, "pack.nim");
												TMP509 = addInt(right, incr);
												if ((NU)((NI32)(TMP509)) >= (NU)(bitmap->Sup.len)) raiseIndexError();
												LOC55 = !(((NIM_BOOL) ((NI8)(bitmap->data[(NI32)(TMP508)] | bitmap->data[(NI32)(TMP509)]))));
												LA56: ;
												chk = LOC55;
												nimln(1579, "system.nim");
												res_154663 = addInt(res_154663, 1);
											} LA54: ;
										}
									}
									nimln(388, "pack.nim");
									{
										if (!chk) goto LA59;
										nimln(389, "pack.nim");
										goto LA17;
									}
									goto LA57;
									LA59: ;
									{
										nimln(391, "pack.nim");
										s0 = addInt(s0, 1);
										nimln(392, "pack.nim");
										goto LA34;
									}
									LA57: ;
								} LA34: ;
							}
							LA27: ;
						} LA25: ;
					}
					nimln(393, "pack.nim");
					nimln(393, "pack.nim");
					nimln(393, "pack.nim");
					LOC62 = HEX2EHEX2E_92098(r0_153856, (pack->Sup.len-1));
					asgnRefNoCycle((void**) (&(*result).Remainder), HEX5BHEX5D_154069(pack, LOC62));
					nimln(394, "pack.nim");
					nimln(394, "pack.nim");
					{
						slice86066 LOC67;
						nimln(394, "pack.nim");
						if (!(0 < r0_153856)) goto LA65;
						nimln(394, "pack.nim");
						nimln(394, "pack.nim");
						nimln(394, "pack.nim");
						LOC67 = HEX2EHEX2E_92098(0, subInt(r0_153856, 1));
						asgnRefNoCycle((void**) (&(*result).Pack), HEX5BHEX5D_154069(pack, LOC67));
					}
					goto LA63;
					LA65: ;
					{
						if ((*result).Pack) nimGCunrefNoCycle((*result).Pack);
						(*result).Pack = (TY149663*) newSeqRC1((&NTI149663), 0);
					}
					LA63: ;
					nimln(395, "pack.nim");
					goto BeforeRet;
				} LA17: ;
				nimln(397, "pack.nim");
				if ((NU)(r0_153856) >= (NU)(pack->Sup.len)) raiseIndexError();
				if ((NU)(0) >= (NU)((*pack->data[r0_153856]).R->Sup.len)) raiseIndexError();
				(*pack->data[r0_153856]).R->data[0].X = x1;
				nimln(397, "pack.nim");
				if ((NU)(r0_153856) >= (NU)(pack->Sup.len)) raiseIndexError();
				if ((NU)(0) >= (NU)((*pack->data[r0_153856]).R->Sup.len)) raiseIndexError();
				(*pack->data[r0_153856]).R->data[0].Y = y1;
				nimln(398, "pack.nim");
				nimln(398, "pack.nim");
				if ((NU)(r0_153856) >= (NU)(pack->Sup.len)) raiseIndexError();
				if ((NU)(0) >= (NU)((*pack->data[r0_153856]).R->Sup.len)) raiseIndexError();
				vstride = ((vstride <= (*pack->data[r0_153856]).R->data[0].H) ? vstride : (*pack->data[r0_153856]).R->data[0].H);
				nimln(399, "pack.nim");
				nimln(399, "pack.nim");
				nimln(399, "pack.nim");
				TMP510 = addInt(x1, cw);
				frontierx = ((frontierx >= (NI32)(TMP510)) ? frontierx : (NI32)(TMP510));
				nimln(400, "pack.nim");
				nimln(400, "pack.nim");
				nimln(400, "pack.nim");
				TMP511 = addInt(y1, ch);
				frontiery = ((frontiery >= (NI32)(TMP511)) ? frontiery : (NI32)(TMP511));
				nimln(402, "pack.nim");
				y2 = y1;
				{
					nimln(403, "pack.nim");
					while (1) {
						NI TMP512;
						NI p0;
						NI TMP513;
						NI skipx;
						NI TMP514;
						NI TMP515;
						nimln(403, "pack.nim");
						nimln(403, "pack.nim");
						TMP512 = addInt(y1, ch);
						if (!(y2 < (NI32)(TMP512))) goto LA70;
						nimln(405, "pack.nim");
						nimln(405, "pack.nim");
						TMP513 = mulInt(y2, bw);
						p0 = (NI32)(TMP513);
						nimln(406, "pack.nim");
						nimln(406, "pack.nim");
						nimln(406, "pack.nim");
						nimln(406, "pack.nim");
						TMP514 = addInt(x1, subInt(cw, 1));
						TMP515 = addInt((NI32)(TMP514), 1);
						skipx = (NI32)(TMP515);
						nimln(407, "pack.nim");
						{
							NI v;
							NI TMP516;
							NI LOC75;
							nimln(407, "pack.nim");
							if (!(skipx < bw)) goto LA73;
							nimln(408, "pack.nim");
							nimln(408, "pack.nim");
							TMP516 = addInt(skipx, p0);
							v = (NI32)(TMP516);
							nimln(410, "pack.nim");
							nimln(410, "pack.nim");
							LOC75 = 0;
							LOC75 = lowerbound_154257(skips->data, skips->Sup.len, v);
							insert_154383((&skips), v, LOC75);
						}
						LA73: ;
						nimln(411, "pack.nim");
						y2 = addInt(y2, skipstride);
					} LA70: ;
				}
				{
					NI y2_154483;
					NI HEX3Atmp_154668;
					NI TMP517;
					NI res_154671;
					y2_154483 = 0;
					HEX3Atmp_154668 = 0;
					nimln(412, "pack.nim");
					nimln(412, "pack.nim");
					nimln(412, "pack.nim");
					TMP517 = addInt(subInt(y1, 1), ch);
					HEX3Atmp_154668 = (NI32)(TMP517);
					nimln(1576, "system.nim");
					res_154671 = y1;
					{
						nimln(1577, "system.nim");
						while (1) {
							NI p0;
							NI TMP518;
							NI TMP519;
							NI TMP520;
							nimln(1577, "system.nim");
							if (!(res_154671 <= HEX3Atmp_154668)) goto LA78;
							nimln(1576, "system.nim");
							y2_154483 = res_154671;
							nimln(413, "pack.nim");
							nimln(413, "pack.nim");
							TMP518 = mulInt(y2_154483, bw);
							p0 = (NI32)(TMP518);
							nimln(415, "pack.nim");
							nimln(415, "pack.nim");
							TMP519 = addInt(x1, p0);
							if ((NU)((NI32)(TMP519)) >= (NU)(bitmap->Sup.len)) raiseIndexError();
							if ((NU)(0) >= (NU)(fillzone->Sup.len)) raiseIndexError();
							nimln(415, "pack.nim");
							TMP520 = mulInt(cw, 1);
							memcpy(((void*) ((&bitmap->data[(NI32)(TMP519)]))), ((void*) ((&fillzone->data[0]))), (NI32)(TMP520));
							nimln(1579, "system.nim");
							res_154671 = addInt(res_154671, 1);
						} LA78: ;
					}
				}
				nimln(418, "pack.nim");
				{
					NI TMP521;
					slice86066 LOC83;
					if (!speedy) goto LA81;
					nimln(419, "pack.nim");
					nimln(419, "pack.nim");
					nimln(419, "pack.nim");
					TMP521 = addInt(s0, 1);
					nimln(419, "pack.nim");
					LOC83 = HEX2EHEX2E_92098((NI32)(TMP521), (skips->Sup.len-1));
					skips = HEX5BHEX5D_154501(skips, LOC83);
				}
				goto LA79;
				LA81: ;
				{
					NI i0;
					nimln(421, "pack.nim");
					i0 = 0;
					{
						nimln(422, "pack.nim");
						while (1) {
							nimln(422, "pack.nim");
							nimln(422, "pack.nim");
							if (!(i0 < skips->Sup.len)) goto LA86;
							nimln(423, "pack.nim");
							{
								nimln(423, "pack.nim");
								if ((NU)(i0) >= (NU)(skips->Sup.len)) raiseIndexError();
								if ((NU)(skips->data[i0]) >= (NU)(bitmap->Sup.len)) raiseIndexError();
								if (!(bitmap->data[skips->data[i0]] == ((NI8) 0))) goto LA89;
								nimln(424, "pack.nim");
								if ((NU)(i0) >= (NU)(skips->Sup.len)) raiseIndexError();
								nextskips = (TY150505*) incrSeq(&(nextskips)->Sup, sizeof(NI));
								nextskips->data[nextskips->Sup.len-1] = skips->data[i0];
							}
							LA89: ;
							nimln(425, "pack.nim");
							i0 = addInt(i0, 1);
						} LA86: ;
					}
					nimln(426, "pack.nim");
					genericSeqAssign((&skips), nextskips, (&NTI150505));
				}
				LA79: ;
				nimln(1579, "system.nim");
				res_154677 = addInt(res_154677, 1);
			} LA16: ;
		}
	}
	nimln(427, "pack.nim");
	genericSeqAssign((&(*result).Pack), pack, (&NTI149663));
	BeforeRet: ;
	popFrame();
	return result;
}

static N_INLINE(void*, seqtoptr_154919)(TY149663* x_154925) {
	void* result;
	nimfr("seqToPtr", "system.nim")
	result = 0;
	nimln(1777, "system.nim");
	result = ((void*) (x_154925));
	popFrame();
	return result;
}

N_NIMCALL(TY154808*, multipackscanline_154763)(assetgroupHEX3Aobjecttype149022* g, TY149663* assets, NI skipstride, NIM_BOOL speedy, NIM_BOOL sort) {
	TY154808* result;
	packmanifestHEX3Aobjecttype152056* manifest;
	NI count;
	nimfr("multipackScanline", "pack.nim")
	result = 0;
	nimln(431, "pack.nim");
	result = (TY154808*) newSeq((&NTI154808), 0);
	nimln(432, "pack.nim");
	manifest = packscanline_152065(g, assets, skipstride, speedy, sort);
	nimln(433, "pack.nim");
	result = HEX26_154798(result, (*manifest).Pack);
	nimln(434, "pack.nim");
	nimln(434, "pack.nim");
	count = (*manifest).Pack->Sup.len;
	{
		nimln(435, "pack.nim");
		while (1) {
			NIM_BOOL LOC3;
			nimln(435, "pack.nim");
			nimln(435, "pack.nim");
			LOC3 = 0;
			LOC3 = HEX3DHEX3D_154903((*manifest).Remainder, NIM_NIL);
			if (!!(LOC3)) goto LA2;
			nimln(436, "pack.nim");
			manifest = packscanline_152065(g, (*manifest).Remainder, skipstride, speedy, sort);
			nimln(437, "pack.nim");
			{
				Exception* ex;
				NimStringDesc* LOC8;
				NimStringDesc* LOC9;
				nimln(437, "pack.nim");
				nimln(437, "pack.nim");
				if (!((*manifest).Pack->Sup.len == 0)) goto LA6;
				nimln(438, "pack.nim");
				ex = new_155056();
				nimln(439, "pack.nim");
				nimln(439, "pack.nim");
				LOC8 = 0;
				nimln(439, "pack.nim");
				if ((NU)(0) >= (NU)((*manifest).Remainder->Sup.len)) raiseIndexError();
				LOC9 = 0;
				LOC9 = HEX24_149470((*manifest).Remainder->data[0]);
				LOC8 = rawNewString(LOC9->Sup.len + 17);
appendString(LOC8, ((NimStringDesc*) &TMP526));
appendString(LOC8, LOC9);
				asgnRefNoCycle((void**) (&(*ex).message), LOC8);
				nimln(440, "pack.nim");
				raiseException((Exception*)ex, "Exception");
			}
			LA6: ;
			nimln(441, "pack.nim");
			result = HEX26_154798(result, (*manifest).Pack);
			nimln(442, "pack.nim");
			nimln(442, "pack.nim");
			count = addInt(count, (*manifest).Pack->Sup.len);
		} LA2: ;
	}
	popFrame();
	return result;
}
N_NIMCALL(void, TMP625)(void* p, NI op) {
	cropresultHEX3Aobjecttype149033* a;
	a = (cropresultHEX3Aobjecttype149033*)p;
}

N_NIMCALL(cropresultHEX3Aobjecttype149033*, newcropresult_167972)(NI left_167979, NI top_167981, NI right_167983, NI bottom_167985) {
	cropresultHEX3Aobjecttype149033* result;
	nimfr("newCropResult", "pack.nim")
	result = 0;
	nimln(76, "pack.nim");
	result = (cropresultHEX3Aobjecttype149033*) newObj((&NTI149013), sizeof(cropresultHEX3Aobjecttype149033));
	nimln(76, "pack.nim");
	(*result).Left = left_167979;
	nimln(76, "pack.nim");
	(*result).Right = right_167983;
	nimln(77, "pack.nim");
	(*result).Top = top_167981;
	nimln(77, "pack.nim");
	(*result).Bottom = bottom_167985;
	popFrame();
	return result;
}

N_NIMCALL(assetgroupHEX3Aobjecttype149022*, newassetgroup_179012)(NimStringDesc* name_179017, rect149007* rect_179019) {
	assetgroupHEX3Aobjecttype149022* result;
	NimStringDesc* LOC1;
	nimfr("newAssetGroup", "pack.nim")
	result = 0;
	nimln(68, "pack.nim");
	result = (assetgroupHEX3Aobjecttype149022*) newObj((&NTI149009), sizeof(assetgroupHEX3Aobjecttype149022));
	nimln(68, "pack.nim");
	LOC1 = 0;
	LOC1 = (*result).Name; (*result).Name = copyStringRC1(name_179017);
	if (LOC1) nimGCunrefNoCycle(LOC1);
	nimln(68, "pack.nim");
	genericAssign((void*)(&(*result).Rect), (void*)rect_179019, (&NTI149007));
	nimln(68, "pack.nim");
	(*result).Counter = 0;
	popFrame();
	return result;
}
NIM_EXTERNC N_NOINLINE(void, HEX00_packInit)(void) {
	nimfr("pack", "pack.nim")
	popFrame();
}

NIM_EXTERNC N_NOINLINE(void, HEX00_packDatInit)(void) {
static TNimNode* TMP369[4];
static TNimNode* TMP370[4];
static TNimNode* TMP371[5];
static TNimNode* TMP372[2];
static TNimNode* TMP394[2];
static TNimNode* TMP476[2];
static TNimNode* TMP624[4];
static TNimNode TMP361[30];
NTI149027.size = sizeof(assetHEX3Aobjecttype149027);
NTI149027.kind = 18;
NTI149027.base = 0;
TMP369[0] = &TMP361[1];
TMP361[1].kind = 1;
TMP361[1].offset = offsetof(assetHEX3Aobjecttype149027, P);
TMP361[1].typ = (&NTI149011);
TMP361[1].name = "p";
TMP369[1] = &TMP361[2];
TMP361[2].kind = 1;
TMP361[2].offset = offsetof(assetHEX3Aobjecttype149027, I);
TMP361[2].typ = (&NTI108);
TMP361[2].name = "i";
TMP369[2] = &TMP361[3];
NTI149022.size = sizeof(assetgroupHEX3Aobjecttype149022);
NTI149022.kind = 18;
NTI149022.base = 0;
NTI149022.flags = 2;
TMP370[0] = &TMP361[5];
NTI149007.size = sizeof(rect149007);
NTI149007.kind = 18;
NTI149007.base = 0;
NTI149007.flags = 2;
TMP371[0] = &TMP361[7];
TMP361[7].kind = 1;
TMP361[7].offset = offsetof(rect149007, X);
TMP361[7].typ = (&NTI108);
TMP361[7].name = "x";
TMP371[1] = &TMP361[8];
TMP361[8].kind = 1;
TMP361[8].offset = offsetof(rect149007, Y);
TMP361[8].typ = (&NTI108);
TMP361[8].name = "y";
TMP371[2] = &TMP361[9];
TMP361[9].kind = 1;
TMP361[9].offset = offsetof(rect149007, W);
TMP361[9].typ = (&NTI108);
TMP361[9].name = "w";
TMP371[3] = &TMP361[10];
TMP361[10].kind = 1;
TMP361[10].offset = offsetof(rect149007, H);
TMP361[10].typ = (&NTI108);
TMP361[10].name = "h";
TMP371[4] = &TMP361[11];
NTI149005.size = sizeof(dataentry149005);
NTI149005.kind = 18;
NTI149005.base = 0;
NTI149005.flags = 2;
TMP372[0] = &TMP361[13];
TMP361[13].kind = 1;
TMP361[13].offset = offsetof(dataentry149005, K);
TMP361[13].typ = (&NTI149);
TMP361[13].name = "k";
TMP372[1] = &TMP361[14];
TMP361[14].kind = 1;
TMP361[14].offset = offsetof(dataentry149005, V);
TMP361[14].typ = (&NTI108);
TMP361[14].name = "v";
TMP361[12].len = 2; TMP361[12].kind = 2; TMP361[12].sons = &TMP372[0];
NTI149005.node = &TMP361[12];
NTI149020.size = sizeof(TY149020*);
NTI149020.kind = 24;
NTI149020.base = (&NTI149005);
NTI149020.flags = 2;
NTI149020.marker = TMP373;
TMP361[11].kind = 1;
TMP361[11].offset = offsetof(rect149007, D);
TMP361[11].typ = (&NTI149020);
TMP361[11].name = "d";
TMP361[6].len = 5; TMP361[6].kind = 2; TMP361[6].sons = &TMP371[0];
NTI149007.node = &TMP361[6];
TMP361[5].kind = 1;
TMP361[5].offset = offsetof(assetgroupHEX3Aobjecttype149022, Rect);
TMP361[5].typ = (&NTI149007);
TMP361[5].name = "rect";
TMP370[1] = &TMP361[15];
TMP361[15].kind = 1;
TMP361[15].offset = offsetof(assetgroupHEX3Aobjecttype149022, Name);
TMP361[15].typ = (&NTI149);
TMP361[15].name = "name";
TMP370[2] = &TMP361[16];
TMP361[16].kind = 1;
TMP361[16].offset = offsetof(assetgroupHEX3Aobjecttype149022, Counter);
TMP361[16].typ = (&NTI108);
TMP361[16].name = "counter";
TMP370[3] = &TMP361[17];
TMP361[17].kind = 1;
TMP361[17].offset = offsetof(assetgroupHEX3Aobjecttype149022, Id);
TMP361[17].typ = (&NTI108);
TMP361[17].name = "id";
TMP361[4].len = 4; TMP361[4].kind = 2; TMP361[4].sons = &TMP370[0];
NTI149022.node = &TMP361[4];
NTI149009.size = sizeof(assetgroupHEX3Aobjecttype149022*);
NTI149009.kind = 22;
NTI149009.base = (&NTI149022);
NTI149009.flags = 2;
NTI149009.marker = TMP374;
TMP361[3].kind = 1;
TMP361[3].offset = offsetof(assetHEX3Aobjecttype149027, G);
TMP361[3].typ = (&NTI149009);
TMP361[3].name = "g";
TMP369[3] = &TMP361[18];
NTI149048.size = sizeof(TY149048*);
NTI149048.kind = 24;
NTI149048.base = (&NTI149007);
NTI149048.flags = 2;
NTI149048.marker = TMP375;
TMP361[18].kind = 1;
TMP361[18].offset = offsetof(assetHEX3Aobjecttype149027, R);
TMP361[18].typ = (&NTI149048);
TMP361[18].name = "r";
TMP361[0].len = 4; TMP361[0].kind = 2; TMP361[0].sons = &TMP369[0];
NTI149027.node = &TMP361[0];
NTI149011.size = sizeof(assetHEX3Aobjecttype149027*);
NTI149011.kind = 22;
NTI149011.base = (&NTI149027);
NTI149011.marker = TMP376;
NTI149653.size = sizeof(assetrectview149653);
NTI149653.kind = 18;
NTI149653.base = 0;
NTI149653.flags = 2;
TMP394[0] = &TMP361[20];
TMP361[20].kind = 1;
TMP361[20].offset = offsetof(assetrectview149653, A);
TMP361[20].typ = (&NTI149011);
TMP361[20].name = "a";
TMP394[1] = &TMP361[21];
TMP361[21].kind = 1;
TMP361[21].offset = offsetof(assetrectview149653, I);
TMP361[21].typ = (&NTI108);
TMP361[21].name = "i";
TMP361[19].len = 2; TMP361[19].kind = 2; TMP361[19].sons = &TMP394[0];
NTI149653.node = &TMP361[19];
NTI149666.size = sizeof(TY149666*);
NTI149666.kind = 24;
NTI149666.base = (&NTI149653);
NTI149666.flags = 2;
NTI149666.marker = TMP395;
NTI149663.size = sizeof(TY149663*);
NTI149663.kind = 24;
NTI149663.base = (&NTI149011);
NTI149663.flags = 2;
NTI149663.marker = TMP408;
NTI150505.size = sizeof(TY150505*);
NTI150505.kind = 24;
NTI150505.base = (&NTI108);
NTI150505.flags = 2;
NTI150505.marker = TMP456;
NTI152056.size = sizeof(packmanifestHEX3Aobjecttype152056);
NTI152056.kind = 18;
NTI152056.base = 0;
NTI152056.flags = 2;
TMP476[0] = &TMP361[23];
TMP361[23].kind = 1;
TMP361[23].offset = offsetof(packmanifestHEX3Aobjecttype152056, Pack);
TMP361[23].typ = (&NTI149663);
TMP361[23].name = "pack";
TMP476[1] = &TMP361[24];
TMP361[24].kind = 1;
TMP361[24].offset = offsetof(packmanifestHEX3Aobjecttype152056, Remainder);
TMP361[24].typ = (&NTI149663);
TMP361[24].name = "remainder";
TMP361[22].len = 2; TMP361[22].kind = 2; TMP361[22].sons = &TMP476[0];
NTI152056.node = &TMP361[22];
NTI152054.size = sizeof(packmanifestHEX3Aobjecttype152056*);
NTI152054.kind = 22;
NTI152054.base = (&NTI152056);
NTI152054.flags = 2;
NTI152054.marker = TMP477;
NTI149033.size = sizeof(cropresultHEX3Aobjecttype149033);
NTI149033.kind = 18;
NTI149033.base = 0;
NTI149033.flags = 3;
TMP624[0] = &TMP361[26];
TMP361[26].kind = 1;
TMP361[26].offset = offsetof(cropresultHEX3Aobjecttype149033, Left);
TMP361[26].typ = (&NTI108);
TMP361[26].name = "left";
TMP624[1] = &TMP361[27];
TMP361[27].kind = 1;
TMP361[27].offset = offsetof(cropresultHEX3Aobjecttype149033, Right);
TMP361[27].typ = (&NTI108);
TMP361[27].name = "right";
TMP624[2] = &TMP361[28];
TMP361[28].kind = 1;
TMP361[28].offset = offsetof(cropresultHEX3Aobjecttype149033, Top);
TMP361[28].typ = (&NTI108);
TMP361[28].name = "top";
TMP624[3] = &TMP361[29];
TMP361[29].kind = 1;
TMP361[29].offset = offsetof(cropresultHEX3Aobjecttype149033, Bottom);
TMP361[29].typ = (&NTI108);
TMP361[29].name = "bottom";
TMP361[25].len = 4; TMP361[25].kind = 2; TMP361[25].sons = &TMP624[0];
NTI149033.node = &TMP361[25];
NTI149013.size = sizeof(cropresultHEX3Aobjecttype149033*);
NTI149013.kind = 22;
NTI149013.base = (&NTI149033);
NTI149013.flags = 2;
NTI149013.marker = TMP625;
}

